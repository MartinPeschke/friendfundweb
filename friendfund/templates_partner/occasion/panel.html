<%! 
from datetime import date, timedelta
%>
<%namespace name="forms" file="../legacy/widgets/forms.html"/>
<%namespace name="html" file="../legacy/widgets/html_elems.html"/>
<div id="button_panel" class="occasion">
	<div class="TabsContainer"><a _type="recommended_tab" class="methodselector ajaxlink selected "><span>${_("EVENT_PANEL_Select an Event")}</span></a></div>
	<div style="clear:both;"></div>
	<div id="occasion_button_bar">
		
		<div class="horizontal_tiler underlined1">
			<div class="floaterLeft" style="margin-right:100px;">
			<div class="occasionLabel">Choose an occasion:</div>
			<select name="occasion_button_bar">
				%for occ in c.olist:
					<option ${forms.expression_quote(occ.key == c.key, 'selected')|n} imgurl="/static/legacy/imgs/${occ.picture_url}" custom="${int(occ.custom or 0)}" key="${occ.key}" displayname="${occ.get_display_name()}" date="${occ.internal_date_format}">
						%if occ.custom:
							${_("EVENT_PANEL_Just because...")}
						%else:
							${occ.get_display_name()}
						%endif
					</option>
				%endfor
			</select>
			</div>
			<div class="floaterLeft">
			<div class="occasionLabel">... Or enter your own occasion:</div>
			<input type="text" name="custom_name" value="${c.name}" id="occasion_custom_name"/>
			</div>
			<div style="clear:both;"></div>
		</div>
		
		<div id="occasion_date_input_bar">
			<div class="occasionLabel">Pick a date so your gift arrives on time:</div>
			<div id="datestamp" jsid="datestamp" type="text" name="datestamp" value="${c.date}" dojoType="dijit.form.DateTextBox" constraints="{min:'${c.lower_limit_date}'}"></div>
			<img class="dateopener" src="/static/legacy/imgs/icon_cal.gif"/>
			<a class="submitSmall occasion_submitter"><span>${_("EVENT_PANEL_Submit")}</span></a>
		</div>

	<div style="clear:both;"></div>
	</div>
</div>