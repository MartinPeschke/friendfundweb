<%namespace name="forms" file="../widgets/forms.html"/>
<%
	pool = getattr(c, "pool", None)
	product = getattr(pool, "product", None)
%>
<div id="button_product" class="hpbutton gift floaterLeft">
	%if product:
		<div class="button_content_wrapper floaterLeft"><img class="button_content" src="${getattr(product, 'picture')}"/></div>
		%if c.product_list:
			<div class="label minified">
				<div class="minified_title">
					<select id="product_selector">
						%for p in c.product_list.values():
						<option value="${p.guid}" ${forms.expression_quote(product.guid == p.guid, "selected")|n}>
							${p.get_display_label(words = 10)}
						</option>
						%endfor
					</select>
					<div class="minified_title_text">
						${pool.get_product_display_label(words = 10)|n}
					</div>
				<div style="clear:both"></div>
				</div>
				<div class="sub_label">${h.word_truncate_by_letters(product.description, 200)|n}</div>
			</div>
		%else:
			<div class="label">${getattr(product, 'display_label')|n}
				<div class="sub_label">${h.word_truncate_by_letters(product.description, 600)|n}</div>
			</div>
		%endif
	%else:
		<a class="content content_full nobg"></a>
		<div class="label">${_("JOCHEN_SCHWEIZER_PAGE_INDEX_BUTTON_Select a Gift")}
			<div class="sub_label">${_("JOCHEN_SCHWEIZER_PAGE_INDEX_BUTTON_Find the perfect gift from a selection of thousands.")}</div>
		</div>
	%endif
</div>
<div class="extender">&nbsp;</div>