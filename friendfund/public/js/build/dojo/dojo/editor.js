/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function(){var _1=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _2=dojo._docScroll();return {w:_1.clientWidth,h:_1.clientHeight,l:_2.x,t:_2.y};};dojo.window.get=function(_3){if(dojo.isIE&&window!==document.parentWindow){_3.parentWindow.execScript("document._parentWindow = window;","Javascript");var _4=_3._parentWindow;_3._parentWindow=null;return _4;}return _3.parentWindow||_3.defaultView;};dojo.window.scrollIntoView=function(_5,_6){try{_5=dojo.byId(_5);var _7=_5.ownerDocument||dojo.doc,_8=_7.body||dojo.body(),_9=_7.documentElement||_8.parentNode,_a=dojo.isIE,_b=dojo.isWebKit;if((!(dojo.isMoz||_a||_b||dojo.isOpera)||_5==_8||_5==_9)&&(typeof _5.scrollIntoView!="undefined")){_5.scrollIntoView(false);return;}var _c=_7.compatMode=="BackCompat",_d=(_a>=9&&_5.ownerDocument.parentWindow.frameElement)?((_9.clientHeight>0&&_9.clientWidth>0&&(_8.clientHeight==0||_8.clientWidth==0||_8.clientHeight>_9.clientHeight||_8.clientWidth>_9.clientWidth))?_9:_8):(_c?_8:_9),_e=_b?_8:_d,_f=_d.clientWidth,_10=_d.clientHeight,rtl=!dojo._isBodyLtr(),_11=_6||dojo.position(_5),el=_5.parentNode,_12=function(el){return ((_a<=6||(_a&&_c))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_12(_5)){return;}while(el){if(el==_8){el=_e;}var _13=dojo.position(el),_14=_12(el);if(el==_e){_13.w=_f;_13.h=_10;if(_e==_9&&_a&&rtl){_13.x+=_e.offsetWidth-_13.w;}if(_13.x<0||!_a){_13.x=0;}if(_13.y<0||!_a){_13.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_13.w-=pb.w;_13.h-=pb.h;_13.x+=pb.l;_13.y+=pb.t;var _15=el.clientWidth,_16=_13.w-_15;if(_15>0&&_16>0){_13.w=_15;_13.x+=(rtl&&(_a||el.clientLeft>pb.l))?_16:0;}_15=el.clientHeight;_16=_13.h-_15;if(_15>0&&_16>0){_13.h=_15;}}if(_14){if(_13.y<0){_13.h+=_13.y;_13.y=0;}if(_13.x<0){_13.w+=_13.x;_13.x=0;}if(_13.y+_13.h>_10){_13.h=_10-_13.y;}if(_13.x+_13.w>_f){_13.w=_f-_13.x;}}var l=_11.x-_13.x,t=_11.y-Math.max(_13.y,0),r=l+_11.w-_13.w,bot=t+_11.h-_13.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((_a==8&&!_c)||_a>=9)){s=-s;}_11.x+=el.scrollLeft;el.scrollLeft+=s;_11.x-=el.scrollLeft;}if(bot*t>0){_11.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_11.y-=el.scrollTop;}el=(el!=_e)&&!_14&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_5.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_17){if(this._hash[_17.id]){throw new Error("Tried to register widget with id=="+_17.id+" but that id is already registered");}this._hash[_17.id]=_17;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_18,_19){_19=_19||dojo.global;var i=0,id;for(id in this._hash){_18.call(_19,this._hash[id],i++,this._hash);}return this;},filter:function(_1a,_1b){_1b=_1b||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_1a.call(_1b,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_1c;for(id in this._hash){_1c=this._hash[id];if(_1c.declaredClass==cls){res.add(_1c);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_1d,_1e){return dojo.map(this.toArray(),_1d,_1e);},every:function(_1f,_20){_20=_20||dojo.global;var x=0,i;for(i in this._hash){if(!_1f.call(_20,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_21,_22){_22=_22||dojo.global;var x=0,i;for(i in this._hash){if(_21.call(_22,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _23=dijit.registry._hash,_24=dojo.attr,_25=dojo.hasAttr,_26=dojo.style;dijit.byId=function(id){return typeof id=="string"?_23[id]:id;};var _27={};dijit.getUniqueId=function(_28){var id;do{id=_28+"_"+(_28 in _27?++_27[_28]:_27[_28]=0);}while(_23[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_29){var _2a=[];function _2b(_2c){for(var _2d=_2c.firstChild;_2d;_2d=_2d.nextSibling){if(_2d.nodeType==1){var _2e=_2d.getAttribute("widgetId");if(_2e){var _2f=_23[_2e];if(_2f){_2a.push(_2f);}}else{_2b(_2d);}}}};_2b(_29);return _2a;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_30){if(!_30._destroyed){if(_30.destroyRecursive){_30.destroyRecursive();}else{if(_30.destroy){_30.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(_31){return _23[_31.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(_32){while(_32){var id=_32.getAttribute&&_32.getAttribute("widgetId");if(id){return _23[id];}_32=_32.parentNode;}return null;};var _33=(dijit._isElementShown=function(_34){var s=_26(_34);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_24(_34,"type")!="hidden");});dijit.hasDefaultTabStop=function(_35){switch(_35.nodeName.toLowerCase()){case "a":return _25(_35,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _36;try{var _37=_35.contentDocument;if("designMode" in _37&&_37.designMode=="on"){return true;}_36=_37.body;}catch(e1){try{_36=_35.contentWindow.document.body;}catch(e2){return false;}}return _36.contentEditable=="true"||(_36.firstChild&&_36.firstChild.contentEditable=="true");default:return _35.contentEditable=="true";}};var _38=(dijit.isTabNavigable=function(_39){if(_24(_39,"disabled")){return false;}else{if(_25(_39,"tabIndex")){return _24(_39,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(_39);}}});dijit._getTabNavigable=function(_3a){var _3b,_3c,_3d,_3e,_3f,_40,_41={};function _42(_43){return _43&&_43.tagName.toLowerCase()=="input"&&_43.type&&_43.type.toLowerCase()=="radio"&&_43.name&&_43.name.toLowerCase();};var _44=function(_45){dojo.query("> *",_45).forEach(function(_46){if((dojo.isIE&&_46.scopeName!=="HTML")||!_33(_46)){return;}if(_38(_46)){var _47=_24(_46,"tabIndex");if(!_25(_46,"tabIndex")||_47==0){if(!_3b){_3b=_46;}_3c=_46;}else{if(_47>0){if(!_3d||_47<_3e){_3e=_47;_3d=_46;}if(!_3f||_47>=_40){_40=_47;_3f=_46;}}}var rn=_42(_46);if(dojo.attr(_46,"checked")&&rn){_41[rn]=_46;}}if(_46.nodeName.toUpperCase()!="SELECT"){_44(_46);}});};if(_33(_3a)){_44(_3a);}function rs(_48){return _41[_42(_48)]||_48;};return {first:rs(_3b),last:rs(_3c),lowest:rs(_3d),highest:rs(_3f)};};dijit.getFirstInTabbingOrder=function(_49){var _4a=dijit._getTabNavigable(dojo.byId(_49));return _4a.lowest?_4a.lowest:_4a.first;};dijit.getLastInTabbingOrder=function(_4b){var _4c=dijit._getTabNavigable(dojo.byId(_4b));return _4c.last?_4c.last:_4c.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function(_4d){if(_4d){dojo.mixin(this,_4d);}},get:function(_4e){return this[_4e];},set:function(_4f,_50){if(typeof _4f==="object"){for(var x in _4f){this.set(x,_4f[x]);}return this;}var _51=this[_4f];this[_4f]=_50;if(this._watchCallbacks){this._watchCallbacks(_4f,_51,_50);}return this;},watch:function(_52,_53){var _54=this._watchCallbacks;if(!_54){var _55=this;_54=this._watchCallbacks=function(_56,_57,_58,_59){var _5a=function(_5b){if(_5b){_5b=_5b.slice();for(var i=0,l=_5b.length;i<l;i++){try{_5b[i].call(_55,_56,_57,_58);}catch(e){console.error(e);}}}};_5a(_54["_"+_56]);if(!_59){_5a(_54["*"]);}};}if(!_53&&typeof _52==="function"){_53=_52;_52="*";}else{_52="_"+_52;}var _5c=_54[_52];if(typeof _5c!=="object"){_5c=_54[_52]=[];}_5c.push(_53);return {unwatch:function(){_5c.splice(dojo.indexOf(_5c,_53),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_5d,_5e){this.create(_5d,_5e);},create:function(_5f,_60){this.srcNodeRef=dojo.byId(_60);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_5f){this.params=_5f;dojo._mixin(this,_5f);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _61=this.srcNodeRef;if(_61&&_61.parentNode&&this.domNode!==_61){_61.parentNode.replaceChild(this.domNode,_61);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _62=function(_63,_64){if((_64.params&&_63 in _64.params)||_64[_63]){_64.set(_63,_64[_63]);}};for(var _65 in this.attributeMap){_62(_65,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_62(a,this);}},this);},_getSetterAttributes:function(){var _66=this.constructor;if(!_66._setterAttrs){var r=(_66._setterAttrs=[]),_67,_68=_66.prototype;for(var _69 in _68){if(dojo.isFunction(_68[_69])&&(_67=_69.match(/^_set([a-zA-Z]*)Attr$/))&&_67[1]){r.push(_67[1].charAt(0).toLowerCase()+_67[1].substr(1));}}}return _66._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _6a=this.baseClass.split(" ");if(!this.isLeftToRight()){_6a=_6a.concat(dojo.map(_6a,function(_6b){return _6b+"Rtl";}));}dojo.addClass(this.domNode,_6a);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_6c){this._beingDestroyed=true;this.destroyDescendants(_6c);this.destroy(_6c);},destroy:function(_6d){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_6e){dfe(_6e,d.disconnect);});dfe(this._subscribes,function(_6f){dun(_6f);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_6d);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_70){if(this.bgIframe){this.bgIframe.destroy(_70);delete this.bgIframe;}if(this.domNode){if(_70){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_70){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_71){dojo.forEach(this.getChildren(),function(_72){if(_72.destroyRecursive){_72.destroyRecursive(_71);}});},uninitialize:function(){return false;},_setClassAttr:function(_73){var _74=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_74,_73,this["class"]);this._set("class",_73);},_setStyleAttr:function(_75){var _76=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_75)){dojo.style(_76,_75);}else{if(_76.style.cssText){_76.style.cssText+="; "+_75;}else{_76.style.cssText=_75;}}this._set("style",_75);},_attrToDom:function(_77,_78){var _79=this.attributeMap[_77];dojo.forEach(dojo.isArray(_79)?_79:[_79],function(_7a){var _7b=this[_7a.node||_7a||"domNode"];var _7c=_7a.type||"attribute";switch(_7c){case "attribute":if(dojo.isFunction(_78)){_78=dojo.hitch(this,_78);}var _7d=_7a.attribute?_7a.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_77)?_77.toLowerCase():_77);dojo.attr(_7b,_7d,_78);break;case "innerText":_7b.innerHTML="";_7b.appendChild(dojo.doc.createTextNode(_78));break;case "innerHTML":_7b.innerHTML=_78;break;case "class":dojo.replaceClass(_7b,_78,this[_77]);break;}},this);},get:function(_7e){var _7f=this._getAttrNames(_7e);return this[_7f.g]?this[_7f.g]():this[_7e];},set:function(_80,_81){if(typeof _80==="object"){for(var x in _80){this.set(x,_80[x]);}return this;}var _82=this._getAttrNames(_80);if(this[_82.s]){var _83=this[_82.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(_80 in this.attributeMap){this._attrToDom(_80,_81);}this._set(_80,_81);}return _83||this;},_attrPairNames:{},_getAttrNames:function(_84){var apn=this._attrPairNames;if(apn[_84]){return apn[_84];}var uc=_84.charAt(0).toUpperCase()+_84.substr(1);return (apn[_84]={n:_84+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(_85,_86){var _87=this[_85];this[_85]=_86;if(this._watchCallbacks&&this._created&&_86!==_87){this._watchCallbacks(_85,_87,_86);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function(obj,_88,_89){var _8a=[dojo._connect(obj,_88,this,_89)];this._connects.push(_8a);return _8a;},disconnect:function(_8b){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_8b){dojo.forEach(_8b,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_8c,_8d){var _8e=dojo.subscribe(_8c,this,_8d);this._subscribes.push(_8e);return _8e;},unsubscribe:function(_8f){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_8f){dojo.unsubscribe(_8f);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function(_90,_91){if(_90.declaredClass&&_90.addChild){_90.addChild(this,_91);}else{dojo.place(this.domNode,_90,_91);}return this;}});})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_92){var _93=dojo.doc,_94=_92.mark;if(_94){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(_94.pRange){var r=_94;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_94);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_93.selection&&_94){var rg;if(_94.pRange){rg=_94.range;}else{if(dojo.isArray(_94)){rg=_93.body.createControlRange();dojo.forEach(_94,function(n){rg.addElement(n);});}else{rg=_93.body.createTextRange();rg.moveToBookmark(_94);}}rg.select();}}}},getFocus:function(_95,_96){var _97=!dijit._curFocus||(_95&&dojo.isDescendant(dijit._curFocus,_95.domNode))?dijit._prevFocus:dijit._curFocus;return {node:_97,bookmark:(_97==dijit._curFocus)&&dojo.withGlobal(_96||dojo.global,dijit.getBookmark),openedForWindow:_96};},focus:function(_98){if(!_98){return;}var _99="node" in _98?_98.node:_98,_9a=_98.bookmark,_9b=_98.openedForWindow,_9c=_9a?_9a.isCollapsed:false;if(_99){var _9d=(_99.tagName.toLowerCase()=="iframe")?_99.contentWindow:_99;if(_9d&&_9d.focus){try{_9d.focus();}catch(e){}}dijit._onFocusNode(_99);}if(_9a&&dojo.withGlobal(_9b||dojo.global,dijit.isCollapsed)&&!_9c){if(_9b){_9b.focus();}try{dojo.withGlobal(_9b||dojo.global,dijit.moveToBookmark,null,[_9a]);}catch(e2){}}},_activeStack:[],registerIframe:function(_9e){return dijit.registerWin(_9e.contentWindow,_9e);},unregisterIframe:function(_9f){dijit.unregisterWin(_9f);},registerWin:function(_a0,_a1){var _a2=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_a1||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_a0.document.documentElement:_a0.document;if(doc){if(dojo.isIE){_a0.document.body.attachEvent("onmousedown",_a2);var _a3=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_a1||evt.srcElement);}else{dijit._onTouchNode(_a1||evt.srcElement);}};doc.attachEvent("onactivate",_a3);var _a4=function(evt){dijit._onBlurNode(_a1||evt.srcElement);};doc.attachEvent("ondeactivate",_a4);return function(){_a0.document.detachEvent("onmousedown",_a2);doc.detachEvent("onactivate",_a3);doc.detachEvent("ondeactivate",_a4);doc=null;};}else{doc.body.addEventListener("mousedown",_a2,true);var _a5=function(evt){dijit._onFocusNode(_a1||evt.target);};doc.addEventListener("focus",_a5,true);var _a6=function(evt){dijit._onBlurNode(_a1||evt.target);};doc.addEventListener("blur",_a6,true);return function(){doc.body.removeEventListener("mousedown",_a2,true);doc.removeEventListener("focus",_a5,true);doc.removeEventListener("blur",_a6,true);doc=null;};}}},unregisterWin:function(_a7){_a7&&_a7();},_onBlurNode:function(_a8){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_a9,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _aa=[];try{while(_a9){var _ab=dojo.attr(_a9,"dijitPopupParent");if(_ab){_a9=dijit.byId(_ab).domNode;}else{if(_a9.tagName&&_a9.tagName.toLowerCase()=="body"){if(_a9===dojo.body()){break;}_a9=dojo.window.get(_a9.ownerDocument).frameElement;}else{var id=_a9.getAttribute&&_a9.getAttribute("widgetId"),_ac=id&&dijit.byId(id);if(_ac&&!(by=="mouse"&&_ac.get("disabled"))){_aa.unshift(id);}_a9=_a9.parentNode;}}}}catch(e){}dijit._setStack(_aa,by);},_onFocusNode:function(_ad){if(!_ad){return;}if(_ad.nodeType==9){return;}dijit._onTouchNode(_ad);if(_ad==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_ad;dojo.publish("focusNode",[_ad]);},_setStack:function(_ae,by){var _af=dijit._activeStack;dijit._activeStack=_ae;for(var _b0=0;_b0<Math.min(_af.length,_ae.length);_b0++){if(_af[_b0]!=_ae[_b0]){break;}}var _b1;for(var i=_af.length-1;i>=_b0;i--){_b1=dijit.byId(_af[i]);if(_b1){_b1._focused=false;_b1.set("focused",false);_b1._hasBeenBlurred=true;if(_b1._onBlur){_b1._onBlur(by);}dojo.publish("widgetBlur",[_b1,by]);}}for(i=_b0;i<_ae.length;i++){_b1=dijit.byId(_ae[i]);if(_b1){_b1._focused=true;_b1.set("focused",true);if(_b1._onFocus){_b1._onFocus(by);}dojo.publish("widgetFocus",[_b1,by]);}}}});dojo.addOnLoad(function(){var _b2=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_b2);_b2=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_b3){this.pairs=[];this.returnWrappers=_b3||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_b4,_b5,_b6,_b7,_b8){this.pairs[((_b8)?"unshift":"push")]([_b4,_b5,_b6,_b7]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _b9=this.pairs[i];if(_b9[1].apply(this,arguments)){if((_b9[3])||(this.returnWrappers)){return _b9[2];}else{return _b9[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_ba){for(var i=0;i<this.pairs.length;i++){var _bb=this.pairs[i];if(_bb[0]==_ba){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(_bc,pos,_bd,_be){var _bf=dojo.map(_bd,function(_c0){var c={corner:_c0,pos:{x:pos.x,y:pos.y}};if(_be){c.pos.x+=_c0.charAt(1)=="L"?_be.x:-_be.x;c.pos.y+=_c0.charAt(0)=="T"?_be.y:-_be.y;}return c;});return dijit._place(_bc,_bf);};dijit._place=function(_c1,_c2,_c3,_c4){var _c5=dojo.window.getBox();if(!_c1.parentNode||String(_c1.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_c1);}var _c6=null;dojo.some(_c2,function(_c7){var _c8=_c7.corner;var pos=_c7.pos;var _c9=0;var _ca={w:_c8.charAt(1)=="L"?(_c5.l+_c5.w)-pos.x:pos.x-_c5.l,h:_c8.charAt(1)=="T"?(_c5.t+_c5.h)-pos.y:pos.y-_c5.t};if(_c3){var res=_c3(_c1,_c7.aroundCorner,_c8,_ca,_c4);_c9=typeof res=="undefined"?0:res;}var _cb=_c1.style;var _cc=_cb.display;var _cd=_cb.visibility;_cb.visibility="hidden";_cb.display="";var mb=dojo.marginBox(_c1);_cb.display=_cc;_cb.visibility=_cd;var _ce=Math.max(_c5.l,_c8.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_cf=Math.max(_c5.t,_c8.charAt(0)=="T"?pos.y:(pos.y-mb.h)),_d0=Math.min(_c5.l+_c5.w,_c8.charAt(1)=="L"?(_ce+mb.w):pos.x),_d1=Math.min(_c5.t+_c5.h,_c8.charAt(0)=="T"?(_cf+mb.h):pos.y),_d2=_d0-_ce,_d3=_d1-_cf;_c9+=(mb.w-_d2)+(mb.h-_d3);if(_c6==null||_c9<_c6.overflow){_c6={corner:_c8,aroundCorner:_c7.aroundCorner,x:_ce,y:_cf,w:_d2,h:_d3,overflow:_c9,spaceAvailable:_ca};}return !_c9;});if(_c6.overflow&&_c3){_c3(_c1,_c6.aroundCorner,_c6.corner,_c6.spaceAvailable,_c4);}var l=dojo._isBodyLtr(),s=_c1.style;s.top=_c6.y+"px";s[l?"left":"right"]=(l?_c6.x:_c5.w-_c6.x-_c6.w)+"px";return _c6;};dijit.placeOnScreenAroundNode=function(_d4,_d5,_d6,_d7){_d5=dojo.byId(_d5);var _d8=dojo.position(_d5,true);return dijit._placeOnScreenAroundRect(_d4,_d8.x,_d8.y,_d8.w,_d8.h,_d6,_d7);};dijit.placeOnScreenAroundRectangle=function(_d9,_da,_db,_dc){return dijit._placeOnScreenAroundRect(_d9,_da.x,_da.y,_da.width,_da.height,_db,_dc);};dijit._placeOnScreenAroundRect=function(_dd,x,y,_de,_df,_e0,_e1){var _e2=[];for(var _e3 in _e0){_e2.push({aroundCorner:_e3,corner:_e0[_e3],pos:{x:x+(_e3.charAt(1)=="L"?0:_de),y:y+(_e3.charAt(0)=="T"?0:_df)}});}return dijit._place(_dd,_e2,_e1,{w:_de,h:_df});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_e4,_e5,_e6,_e7){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_e8,_e9){var _ea={};dojo.forEach(_e8,function(pos){switch(pos){case "after":_ea[_e9?"BR":"BL"]=_e9?"BL":"BR";break;case "before":_ea[_e9?"BL":"BR"]=_e9?"BR":"BL";break;case "below-alt":_e9=!_e9;case "below":_ea[_e9?"BL":"BR"]=_e9?"TL":"TR";_ea[_e9?"BR":"BL"]=_e9?"TR":"TL";break;case "above-alt":_e9=!_e9;case "above":default:_ea[_e9?"TL":"TR"]=_e9?"BL":"BR";_ea[_e9?"TR":"TL"]=_e9?"BR":"BL";break;}});return _ea;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_eb){var _ec=_eb.declaredClass?_eb._popupWrapper:(_eb.parentNode&&dojo.hasClass(_eb.parentNode,"dijitPopup")),_ed=_eb.domNode||_eb;if(!_ec){_ec=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_ec.appendChild(_ed);var s=_ed.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_eb.declaredClass){_eb._popupWrapper=_ec;dojo.connect(_eb,"destroy",function(){dojo.destroy(_ec);delete _eb._popupWrapper;});}}return _ec;},moveOffScreen:function(_ee){var _ef=this._createWrapper(_ee);dojo.style(_ef,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_f0){var _f1=this._createWrapper(_f0);dojo.style(_f1,"display","none");},getTopPopup:function(){var _f2=this._stack;for(var pi=_f2.length-1;pi>0&&_f2[pi].parent===_f2[pi-1].widget;pi--){}return _f2[pi];},open:function(_f3){var _f4=this._stack,_f5=_f3.popup,_f6=_f3.orient||((_f3.parent?_f3.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_f7=_f3.around,id=(_f3.around&&_f3.around.id)?(_f3.around.id+"_dropdown"):("popup_"+this._idGen++);while(_f4.length&&(!_f3.parent||!dojo.isDescendant(_f3.parent.domNode,_f4[_f4.length-1].widget.domNode))){dijit.popup.close(_f4[_f4.length-1].widget);}var _f8=this._createWrapper(_f5);dojo.attr(_f8,{id:id,style:{zIndex:this._beginZIndex+_f4.length},"class":"dijitPopup "+(_f5.baseClass||_f5["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:_f3.parent?_f3.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_f5.bgIframe){_f5.bgIframe=new dijit.BackgroundIframe(_f8);}}var _f9=_f7?dijit.placeOnScreenAroundElement(_f8,_f7,_f6,_f5.orient?dojo.hitch(_f5,"orient"):null):dijit.placeOnScreen(_f8,_f3,_f6=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_f3.padding);_f8.style.display="";_f8.style.visibility="visible";_f5.domNode.style.visibility="visible";var _fa=[];_fa.push(dojo.connect(_f8,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_f3.onCancel){dojo.stopEvent(evt);_f3.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _fb=this.getTopPopup();if(_fb&&_fb.onCancel){_fb.onCancel();}}}}));if(_f5.onCancel){_fa.push(dojo.connect(_f5,"onCancel",_f3.onCancel));}_fa.push(dojo.connect(_f5,_f5.onExecute?"onExecute":"onChange",this,function(){var _fc=this.getTopPopup();if(_fc&&_fc.onExecute){_fc.onExecute();}}));_f4.push({widget:_f5,parent:_f3.parent,onExecute:_f3.onExecute,onCancel:_f3.onCancel,onClose:_f3.onClose,handlers:_fa});if(_f5.onOpen){_f5.onOpen(_f9);}return _f9;},close:function(_fd){var _fe=this._stack;while((_fd&&dojo.some(_fe,function(_ff){return _ff.widget==_fd;}))||(!_fd&&_fe.length)){var top=_fe.pop(),_100=top.widget,_101=top.onClose;if(_100.onClose){_100.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_100&&_100.domNode){this.hide(_100);}if(_101){_101();}}}};dijit._frames=new function(){var _102=[];this.pop=function(){var _103;if(_102.length){_103=_102.pop();_103.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_103=dojo.doc.createElement(html);}else{_103=dojo.create("iframe");_103.src="javascript:\"\"";_103.className="dijitBackgroundIframe";dojo.style(_103,"opacity",0.1);}_103.tabIndex=-1;dijit.setWaiRole(_103,"presentation");}return _103;};this.push=function(_104){_104.style.display="none";_102.push(_104);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _105=(this.iframe=dijit._frames.pop());node.appendChild(_105);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_105,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_106=d.isOpera,maj=Math.floor,ff=d.isFF,_107=d.boxModel.replace(/-/,""),_108={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_106,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_108["dj_"+_107]=true;var _109="";for(var clz in _108){if(_108[clz]){_109+=clz+" ";}}html.className=d.trim(html.className+" "+_109);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _10a="dj_rtl dijitRtl "+_109.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_10a);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_10b,node,_10c,obj,_10d,_10e,_10f){if(obj!=this._obj){this.stop();this._initialDelay=_10e||500;this._subsequentDelay=_10d||0.9;this._minDelay=_10f||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_10b,_10c);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_110,_111,_112,_113,_114,_115){if(_110.keyCode){_110.charOrCode=_110.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_110.charCode){_110.charOrCode=String.fromCharCode(_110.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_110.charOrCode&&(_110.ctrlKey===undefined||_110.ctrlKey==evt.ctrlKey)&&(_110.altKey===undefined||_110.altKey==evt.altKey)&&(_110.metaKey===undefined||_110.metaKey==(evt.metaKey||false))&&(_110.shiftKey===undefined||_110.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_111,node,_112,_110,_113,_114,_115);}else{if(dijit.typematic._obj==_110){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_110){dijit.typematic.stop();}})];},addMouseListener:function(node,_116,_117,_118,_119,_11a){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_116,node,_117,node,_118,_119,_11a);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_116,node,_117,node,_118,_119,_11a);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_11b,_11c,_11d,_11e,_11f,_120,_121,_122){return this.addKeyListener(_11c,_11d,_11e,_11f,_120,_121,_122).concat(this.addMouseListener(_11b,_11e,_11f,_120,_121,_122));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _123=cs.backgroundImage;var _124=(cs.borderTopColor==cs.borderRightColor)||(_123!=null&&(_123=="none"||_123=="url(invalid-url:)"));dojo[_124?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem,role){var _125=this.getWaiRole(elem);return role?(_125.indexOf(role)>-1):(_125.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function(elem,role){var _126=dojo.attr(elem,"role");if(!_126){return;}if(role){var t=dojo.trim((" "+_126+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_127){return elem.hasAttribute?elem.hasAttribute("aria-"+_127):!!elem.getAttribute("aria-"+_127);},getWaiState:function(elem,_128){return elem.getAttribute("aria-"+_128)||"";},setWaiState:function(elem,_129,_12a){elem.setAttribute("aria-"+_129,_12a);},removeWaiState:function(elem,_12b){elem.removeAttribute("aria-"+_12b);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_12c,_12d){if(_12c&&dojo.isFunction(_12c._onConnect)){_12c._onConnect(_12d);}});dijit._connectOnUseEventHandler=function(_12e){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _12f=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_12f);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_12f);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_130,_131){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function(_132){if(_132 in this._deferredConnects){var _133=this[this._deferredConnects[_132]||"domNode"];this.connect(_133,_132.toLowerCase(),_132);delete this._deferredConnects[_132];}},focused:false,isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_134){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_134);},attr:function(name,_135){if(dojo.config.isDebug){var _136=arguments.callee._ach||(arguments.callee._ach={}),_137=(arguments.callee.caller||"unknown caller").toString();if(!_136[_137]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_137,"","2.0");_136[_137]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function(obj,_138,_139){var d=dojo,dc=d._connect,_13a=this.inherited(arguments,[obj,_138=="ondijitclick"?"onclick":_138,_139]);if(_138=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_139);_13a.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _13a;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dijit._CssStateMixin"]){dojo._hasResource["dijit._CssStateMixin"]=true;dojo.provide("dijit._CssStateMixin");dojo.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);dojo.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);dojo.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(attr){this.watch(attr,dojo.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_13b){if(!this.disabled){switch(_13b.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":this._set("active",true);this._mouseDown=true;var _13c=this.connect(dojo.body(),"onmouseup",function(){this._mouseDown=false;this._set("active",false);this.disconnect(_13c);});break;}}},_setStateClass:function(){var _13d=this.baseClass.split(" ");function _13e(_13f){_13d=_13d.concat(dojo.map(_13d,function(c){return c+_13f;}),"dijit"+_13f);};if(!this.isLeftToRight()){_13e("Rtl");}if(this.checked){_13e("Checked");}if(this.state){_13e(this.state);}if(this.selected){_13e("Selected");}if(this.disabled){_13e("Disabled");}else{if(this.readOnly){_13e("ReadOnly");}else{if(this.active){_13e("Active");}else{if(this.hovering){_13e("Hover");}}}}if(this._focused){_13e("Focused");}var tn=this.stateNode||this.domNode,_140={};dojo.forEach(tn.className.split(" "),function(c){_140[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _140[c];});}dojo.forEach(_13d,function(c){_140[c]=true;});var _141=[];for(var c in _140){_141.push(c);}tn.className=_141.join(" ");this._stateClasses=_13d;},_trackMouseState:function(node,_142){var _143=false,_144=false,_145=false;var self=this,cn=dojo.hitch(this,"connect",node);function _146(){var _147=("disabled" in self&&self.disabled)||("readonly" in self&&self.readonly);dojo.toggleClass(node,_142+"Hover",_143&&!_144&&!_147);dojo.toggleClass(node,_142+"Active",_144&&!_147);dojo.toggleClass(node,_142+"Focused",_145&&!_147);};cn("onmouseenter",function(){_143=true;_146();});cn("onmouseleave",function(){_143=false;_144=false;_146();});cn("onmousedown",function(){_144=true;_146();});cn("onmouseup",function(){_144=false;_146();});cn("onfocus",function(){_145=true;_146();});cn("onblur",function(){_145=false;_146();});this.watch("disabled",_146);this.watch("readOnly",_146);}});}if(!dojo._hasResource["dijit._editor.selection"]){dojo._hasResource["dijit._editor.selection"]=true;dojo.provide("dijit._editor.selection");dojo.getObject("_editor.selection",true,dijit);dojo.mixin(dijit._editor.selection,{getType:function(){if(dojo.isIE<9){return dojo.doc.selection.type.toLowerCase();}else{var _148="text";var oSel;try{oSel=dojo.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _149=oSel.getRangeAt(0);if((_149.startContainer==_149.endContainer)&&((_149.endOffset-_149.startOffset)==1)&&(_149.startContainer.nodeType!=3)){_148="control";}}return _148;}},getSelectedText:function(){if(dojo.isIE<9){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().text;}else{var _14a=dojo.global.getSelection();if(_14a){return _14a.toString();}}return "";},getSelectedHtml:function(){if(dojo.isIE<9){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().htmlText;}else{var _14b=dojo.global.getSelection();if(_14b&&_14b.rangeCount){var i;var html="";for(i=0;i<_14b.rangeCount;i++){var frag=_14b.getRangeAt(i).cloneContents();var div=dojo.doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}},getSelectedElement:function(){if(dijit._editor.selection.getType()=="control"){if(dojo.isIE<9){var _14c=dojo.doc.selection.createRange();if(_14c&&_14c.item){return dojo.doc.selection.createRange().item(0);}}else{var _14d=dojo.global.getSelection();return _14d.anchorNode.childNodes[_14d.anchorOffset];}}return null;},getParentElement:function(){if(dijit._editor.selection.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(dojo.isIE<9){var r=dojo.doc.selection.createRange();r.collapse(true);return r.parentElement();}else{var _14e=dojo.global.getSelection();if(_14e){var node=_14e.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}return null;},hasAncestorElement:function(_14f){return this.getAncestorElement.apply(this,arguments)!=null;},getAncestorElement:function(_150){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function(node,tags){if(node&&node.tagName){var _151=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _152=String(tags[i]).toLowerCase();if(_151==_152){return _152;}}}return "";},getParentOfType:function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},collapse:function(_153){if(window.getSelection){var _154=dojo.global.getSelection();if(_154.removeAllRanges){if(_153){_154.collapseToStart();}else{_154.collapseToEnd();}}else{_154.collapse(_153);}}else{if(dojo.isIE){var _155=dojo.doc.selection.createRange();_155.collapse(_153);_155.select();}}},remove:function(){var sel=dojo.doc.selection;if(dojo.isIE<9){if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}else{sel=dojo.global.getSelection();sel.deleteFromDocument();return sel;}},selectElementChildren:function(_156,_157){var win=dojo.global;var doc=dojo.doc;var _158;_156=dojo.byId(_156);if(doc.selection&&dojo.isIE<9&&dojo.body().createTextRange){_158=_156.ownerDocument.body.createTextRange();_158.moveToElementText(_156);if(!_157){try{_158.select();}catch(e){}}}else{if(win.getSelection){var _159=dojo.global.getSelection();if(dojo.isOpera){if(_159.rangeCount){_158=_159.getRangeAt(0);}else{_158=doc.createRange();}_158.setStart(_156,0);_158.setEnd(_156,(_156.nodeType==3)?_156.length:_156.childNodes.length);_159.addRange(_158);}else{_159.selectAllChildren(_156);}}}},selectElement:function(_15a,_15b){var _15c;var doc=dojo.doc;var win=dojo.global;_15a=dojo.byId(_15a);if(dojo.isIE<9&&dojo.body().createTextRange){try{var tg=_15a.tagName?_15a.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_15c=dojo.body().createControlRange();}else{_15c=dojo.body().createRange();}_15c.addElement(_15a);if(!_15b){_15c.select();}}catch(e){this.selectElementChildren(_15a,_15b);}}else{if(dojo.global.getSelection){var _15d=win.getSelection();_15c=doc.createRange();if(_15d.removeAllRanges){if(dojo.isOpera){if(_15d.getRangeAt(0)){_15c=_15d.getRangeAt(0);}}_15c.selectNode(_15a);_15d.removeAllRanges();_15d.addRange(_15c);}}}},inSelection:function(node){if(node){var _15e;var doc=dojo.doc;var _15f;if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.rangeCount>0){_15f=sel.getRangeAt(0);}if(_15f&&_15f.compareBoundaryPoints&&doc.createRange){try{_15e=doc.createRange();_15e.setStart(node,0);if(_15f.compareBoundaryPoints(_15f.START_TO_END,_15e)===1){return true;}}catch(e){}}}else{if(doc.selection){_15f=doc.selection.createRange();try{_15e=node.ownerDocument.body.createControlRange();if(_15e){_15e.addElement(node);}}catch(e1){try{_15e=node.ownerDocument.body.createTextRange();_15e.moveToElementText(node);}catch(e2){}}if(_15f&&_15e){if(_15f.compareEndPoints("EndToStart",_15e)===1){return true;}}}}}return false;}});}if(!dojo._hasResource["dijit._editor.range"]){dojo._hasResource["dijit._editor.range"]=true;dojo.provide("dijit._editor.range");dijit.range={};dijit.range.getIndex=function(node,_160){var ret=[],retR=[];var stop=_160;var _161=node;var _162,n;while(node!=stop){var i=0;_162=node.parentNode;while((n=_162.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-_162.childNodes.length);node=_162;}if(ret.length>0&&_161.nodeType==3){n=_161.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_161.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};};dijit.range.getNode=function(_163,_164){if(!dojo.isArray(_163)||_163.length==0){return _164;}var node=_164;dojo.every(_163,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;};dijit.range.getCommonAncestor=function(n1,n2,root){root=root||n1.ownerDocument.body;var _165=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_165(n1);var n2as=_165(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;};dijit.range.getAncestor=function(node,_166,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_166.test(name)){return node;}node=node.parentNode;}return null;};dijit.range.BlockTagNames=/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/;dijit.range.getBlockAncestor=function(node,_167,root){root=root||node.ownerDocument.body;_167=_167||dijit.range.BlockTagNames;var _168=null,_169;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_168&&_167.test(name)){_168=node;}if(!_169&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_169=node;}node=node.parentNode;}return {blockNode:_168,blockContainer:_169||node.ownerDocument.body};};dijit.range.atBeginningOfContainer=function(_16a,node,_16b){var _16c=false;var _16d=(_16b==0);if(!_16d&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_16b))){_16d=true;}}if(_16d){var _16e=node;_16c=true;while(_16e&&_16e!==_16a){if(_16e.previousSibling){_16c=false;break;}_16e=_16e.parentNode;}}return _16c;};dijit.range.atEndOfContainer=function(_16f,node,_170){var _171=false;var _172=(_170==(node.length||node.childNodes.length));if(!_172&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_170))){_172=true;}}if(_172){var _173=node;_171=true;while(_173&&_173!==_16f){if(_173.nextSibling){_171=false;break;}_173=_173.parentNode;}}return _171;};dijit.range.adjacentNoneTextNode=function(_174,next){var node=_174;var len=(0-_174.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];};dijit.range._w3c=Boolean(window["getSelection"]);dijit.range.create=function(win){if(dijit.range._w3c){return (win||dojo.global).document.createRange();}else{return new dijit.range.W3CRange;}};dijit.range.getSelection=function(win,_175){if(dijit.range._w3c){return win.getSelection();}else{var s=new dijit.range.ie.selection(win);if(!_175){s._getCurrentSelection();}return s;}};if(!dijit.range._w3c){dijit.range.ie={cachedSelection:{},selection:function(win){this._ranges=[];this.addRange=function(r,_176){this._ranges.push(r);if(!_176){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _177=function(){var r=win.document.selection.createRange();var type=win.document.selection.type.toUpperCase();if(type=="CONTROL"){return new dijit.range.W3CRange(dijit.range.ie.decomposeControlRange(r));}else{return new dijit.range.W3CRange(dijit.range.ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_177();if(r){this.addRange(r,true);}};},decomposeControlRange:function(_178){var _179=_178.item(0),_17a=_178.item(_178.length-1);var _17b=_179.parentNode,_17c=_17a.parentNode;var _17d=dijit.range.getIndex(_179,_17b).o;var _17e=dijit.range.getIndex(_17a,_17c).o+1;return [_17b,_17d,_17c,_17e];},getEndPoint:function(_17f,end){var _180=_17f.duplicate();_180.collapse(!end);var _181="EndTo"+(end?"End":"Start");var _182=_180.parentElement();var _183,_184,_185;if(_182.childNodes.length>0){dojo.every(_182.childNodes,function(node,i){var _186;if(node.nodeType!=3){_180.moveToElementText(node);if(_180.compareEndPoints(_181,_17f)>0){if(_185&&_185.nodeType==3){_183=_185;_186=true;}else{_183=_182;_184=i;return false;}}else{if(i==_182.childNodes.length-1){_183=_182;_184=_182.childNodes.length;return false;}}}else{if(i==_182.childNodes.length-1){_183=node;_186=true;}}if(_186&&_183){var _187=dijit.range.adjacentNoneTextNode(_183)[0];if(_187){_183=_187.nextSibling;}else{_183=_182.firstChild;}var _188=dijit.range.adjacentNoneTextNode(_183);_187=_188[0];var _189=_188[1];if(_187){_180.moveToElementText(_187);_180.collapse(false);}else{_180.moveToElementText(_182);}_180.setEndPoint(_181,_17f);_184=_180.text.length-_189;return false;}_185=node;return true;});}else{_183=_182;_184=0;}if(!end&&_183.nodeType==1&&_184==_183.childNodes.length){var _18a=_183.nextSibling;if(_18a&&_18a.nodeType==3){_183=_18a;_184=0;}}return [_183,_184];},setEndPoint:function(_18b,_18c,_18d){var _18e=_18b.duplicate(),node,len;if(_18c.nodeType!=3){if(_18d>0){node=_18c.childNodes[_18d-1];if(node){if(node.nodeType==3){_18c=node;_18d=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_18c=node.nextSibling;_18d=0;}else{_18e.moveToElementText(node.nextSibling?node:_18c);var _18f=node.parentNode;var _190=_18f.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_18e.collapse(false);_18f.removeChild(_190);}}}}else{_18e.moveToElementText(_18c);_18e.collapse(true);}}if(_18c.nodeType==3){var _191=dijit.range.adjacentNoneTextNode(_18c);var _192=_191[0];len=_191[1];if(_192){_18e.moveToElementText(_192);_18e.collapse(false);if(_192.contentEditable!="inherit"){len++;}}else{_18e.moveToElementText(_18c.parentNode);_18e.collapse(true);}_18d+=len;if(_18d>0){if(_18e.move("character",_18d)!=_18d){console.error("Error when moving!");}}}return _18e;},decomposeTextRange:function(_193){var _194=dijit.range.ie.getEndPoint(_193);var _195=_194[0],_196=_194[1];var _197=_194[0],_198=_194[1];if(_193.htmlText.length){if(_193.htmlText==_193.text){_198=_196+_193.text.length;}else{_194=dijit.range.ie.getEndPoint(_193,true);_197=_194[0],_198=_194[1];}}return [_195,_196,_197,_198];},setRange:function(_199,_19a,_19b,_19c,_19d,_19e){var _19f=dijit.range.ie.setEndPoint(_199,_19a,_19b);_199.setEndPoint("StartToStart",_19f);if(!_19e){var end=dijit.range.ie.setEndPoint(_199,_19c,_19d);}_199.setEndPoint("EndToEnd",end||_19f);return _199;}};dojo.declare("dijit.range.W3CRange",null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=dijit.range.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_1a0){_1a0=parseInt(_1a0);if(this.startContainer===node&&this.startOffset==_1a0){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_1a0;if(!this.endContainer){this.setEnd(node,_1a0);}else{this._updateInternal();}},setEnd:function(node,_1a1){_1a1=parseInt(_1a1);if(this.endContainer===node&&this.endOffset==_1a1){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_1a1;if(!this.startContainer){this.setStart(node,_1a1);}else{this._updateInternal();}},setStartAfter:function(node,_1a2){this._setPoint("setStart",node,_1a2,1);},setStartBefore:function(node,_1a3){this._setPoint("setStart",node,_1a3,0);},setEndAfter:function(node,_1a4){this._setPoint("setEnd",node,_1a4,1);},setEndBefore:function(node,_1a5){this._setPoint("setEnd",node,_1a5,0);},_setPoint:function(what,node,_1a6,ext){var _1a7=dijit.range.getIndex(node,node.parentNode).o;this[what](node.parentNode,_1a7.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();dijit.range.ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(body){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var r=this._getIERange();r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new dijit.range.W3CRange([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}}if(!dojo._hasResource["dijit._editor.html"]){dojo._hasResource["dijit._editor.html"]=true;dojo.provide("dijit._editor.html");dojo.getObject("_editor",true,dijit);dijit._editor.escapeXml=function(str,_1a8){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_1a8){str=str.replace(/'/gm,"&#39;");}return str;};dijit._editor.getNodeHtml=function(node){var _1a9;switch(node.nodeType){case 1:var _1aa=node.nodeName.toLowerCase();if(!_1aa||_1aa.charAt(0)=="/"){return "";}_1a9="<"+_1aa;var _1ab=[];var attr;if(dojo.isIE&&node.outerHTML){var s=node.outerHTML;s=s.substr(0,s.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var reg=/(\b\w+)\s?=/g;var m,key;while((m=reg.exec(s))){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_1ab.push([key,node.getAttribute("_djrealurl")]);continue;}}var val,_1ac;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;case "width":if(_1aa==="img"){_1ac=/width=(\S+)/i.exec(s);if(_1ac){val=_1ac[1];}break;}case "height":if(_1aa==="img"){_1ac=/height=(\S+)/i.exec(s);if(_1ac){val=_1ac[1];}break;}default:val=node.getAttribute(key);}if(val!=null){_1ab.push([key,val.toString()]);}}}}else{var i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!="_dj"){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}_1ab.push([n,v]);}}}_1ab.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_1ab[j++])){_1a9+=" "+attr[0]+"=\""+(dojo.isString(attr[1])?dijit._editor.escapeXml(attr[1],true):attr[1])+"\"";}if(_1aa==="script"){_1a9+=">"+node.innerHTML+"</"+_1aa+">";}else{if(node.childNodes.length){_1a9+=">"+dijit._editor.getChildrenHtml(node)+"</"+_1aa+">";}else{switch(_1aa){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_1a9+=" />";break;default:_1a9+="></"+_1aa+">";}}}break;case 4:case 3:_1a9=dijit._editor.escapeXml(node.nodeValue,true);break;case 8:_1a9="<!--"+dijit._editor.escapeXml(node.nodeValue,true)+"-->";break;default:_1a9="<!-- Element not recognized - Type: "+node.nodeType+" Name: "+node.nodeName+"-->";}return _1a9;};dijit._editor.getChildrenHtml=function(dom){var out="";if(!dom){return out;}var _1ad=dom["childNodes"]||dom;var _1ae=!dojo.isIE||_1ad!==dom;var node,i=0;while((node=_1ad[i++])){if(!_1ae||node.parentNode==dom){out+=dijit._editor.getNodeHtml(node);}}return out;};}if(!dojo._hasResource["dijit._editor.RichText"]){dojo._hasResource["dijit._editor.RichText"]=true;dojo.provide("dijit._editor.RichText");if(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"]){if(dojo._postLoad){(function(){var _1af=dojo.doc.createElement("textarea");_1af.id=dijit._scopeName+"._editor.RichText.value";dojo.style(_1af,{display:"none",position:"absolute",top:"-100px",height:"3px",width:"3px"});dojo.body().appendChild(_1af);})();}else{try{dojo.doc.write("<textarea id=\""+dijit._scopeName+"._editor.RichText.value\" "+"style=\"display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;\"></textarea>");}catch(e){}}}dojo.declare("dijit._editor.RichText",[dijit._Widget,dijit._CssStateMixin],{constructor:function(_1b0){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_1b0&&dojo.isString(_1b0.value)){this.value=_1b0.value;}this.onLoadDeferred=new dojo.Deferred();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){if("textarea"==this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}this.contentPreFilters=[dojo.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(dojo.isMoz){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(dojo.isWebKit){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(dojo.isIE){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);}this.inherited(arguments);dojo.publish(dijit._scopeName+"._editor.RichText::init",[this]);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var exec=dojo.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _1b1={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!dojo.isIE){_1b1.Z=exec("redo");}for(var key in _1b1){this.addKeyHandler(key,true,false,_1b1[key]);}},events:["onKeyPress","onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(dijit._editor._editorCommandsLocalized){this._local2NativeFormatNames=dijit._editor._local2NativeFormatNames;this._native2LocalFormatNames=dijit._editor._native2LocalFormatNames;return;}dijit._editor._editorCommandsLocalized=true;dijit._editor._local2NativeFormatNames={};dijit._editor._native2LocalFormatNames={};this._local2NativeFormatNames=dijit._editor._local2NativeFormatNames;this._native2LocalFormatNames=dijit._editor._native2LocalFormatNames;var _1b2=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _1b3="",_1b4,i=0;while((_1b4=_1b2[i++])){if(_1b4.charAt(1)!=="l"){_1b3+="<"+_1b4+"><span>content</span></"+_1b4+"><br/>";}else{_1b3+="<"+_1b4+"><li>content</li></"+_1b4+"><br/>";}}var _1b5={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=dojo.create("div",{style:_1b5,innerHTML:_1b3});dojo.body().appendChild(div);var _1b6=dojo.hitch(this,function(){var node=div.firstChild;while(node){try{dijit._editor.selection.selectElement(node.firstChild);var _1b7=node.tagName.toLowerCase();this._local2NativeFormatNames[_1b7]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_1b7]]=_1b7;node=node.nextSibling.nextSibling;}catch(e){}}div.parentNode.removeChild(div);div.innerHTML="";});setTimeout(_1b6,0);},open:function(_1b8){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new dojo.Deferred();}if(!this.isClosed){this.close();}dojo.publish(dijit._scopeName+"._editor.RichText::open",[this]);if(arguments.length==1&&_1b8.nodeName){this.domNode=_1b8;}var dn=this.domNode;var html;if(dojo.isString(this.value)){html=this.value;delete this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=ta.value;dn=this.domNode=dojo.doc.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;dojo.place(dn,ta,"before");var _1b9=dojo.hitch(this,function(){dojo.style(ta,{display:"block",position:"absolute",top:"-1000px"});if(dojo.isIE){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(dojo.isIE){setTimeout(_1b9,10);}else{_1b9();}if(ta.form){var _1ba=ta.value;this.reset=function(){var _1bb=this.getValue();if(_1bb!=_1ba){this.replaceValue(_1ba);}};dojo.connect(ta.form,"onsubmit",this,function(){dojo.attr(ta,"disabled",this.disabled);ta.value=this.getValue();});}}else{html=dijit._editor.getChildrenHtml(dn);dn.innerHTML="";}}var _1bc=dojo.contentBox(dn);this._oldHeight=_1bc.h;this._oldWidth=_1bc.w;this.value=html;if(dn.nodeName&&dn.nodeName=="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"])){var _1bd=dojo.byId(dijit._scopeName+"._editor.RichText.value");if(_1bd&&_1bd.value!==""){var _1be=_1bd.value.split(this._SEPARATOR),i=0,dat;while((dat=_1be[i++])){var data=dat.split(this._NAME_CONTENT_SEP);if(data[0]==this.name){html=data[1];_1be=_1be.splice(i,1);_1bd.value=_1be.join(this._SEPARATOR);break;}}}if(!dijit._editor._globalSaveHandler){dijit._editor._globalSaveHandler={};dojo.addOnUnload(function(){var id;for(id in dijit._editor._globalSaveHandler){var f=dijit._editor._globalSaveHandler[id];if(dojo.isFunction(f)){f();}}});}dijit._editor._globalSaveHandler[this.id]=dojo.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=dojo.doc.createElement("iframe"));ifr.id=this.id+"_iframe";this._iframeSrc=this._getIframeDocTxt();ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(dojo.isIE>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=dojo.hitch(this,function(win){this.window=win;this.document=this.window.document;if(dojo.isIE){this._localizeEditorCommands();}this.onLoad(html);});var s="javascript:parent."+dijit._scopeName+".byId(\""+this.id+"\")._iframeSrc";ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);if(dojo.isSafari<=4){var src=ifr.getAttribute("src");if(!src||src.indexOf("javascript")==-1){setTimeout(function(){ifr.setAttribute("src",s);},0);}}if(dn.nodeName=="LI"){dn.lastChild.style.marginTop="-1.2em";}dojo.addClass(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var _1bf=dojo.getComputedStyle(this.domNode);var html="";var _1c0=true;if(dojo.isIE||dojo.isWebKit||(!this.height&&!dojo.isMoz)){html="<div id='dijitEditorBody'></div>";_1c0=false;}else{if(dojo.isMoz){this._cursorToStart=true;html="&nbsp;";}}var font=[_1bf.fontWeight,_1bf.fontSize,_1bf.fontFamily].join(" ");var _1c1=_1bf.lineHeight;if(_1c1.indexOf("px")>=0){_1c1=parseFloat(_1c1)/parseFloat(_1bf.fontSize);}else{if(_1c1.indexOf("em")>=0){_1c1=parseFloat(_1c1);}else{_1c1="normal";}}var _1c2="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_1c3){_1c3=_1c3.replace(/^;/ig,"")+";";var s=_1c3.split(":")[0];if(s){s=dojo.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}dojo.style(self.domNode,sC,"");}_1c2+=_1c3+";";});var _1c4=dojo.query("label[for=\""+this.id+"\"]");return [this.isLeftToRight()?"<html>\n<head>\n":"<html dir='rtl'>\n<head>\n",(dojo.isMoz&&_1c4.length?"<title>"+_1c4[0].innerHTML+"</title>\n":""),"<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n",((dojo.isWebKit)?"\t\twidth: 100%;\n":""),((dojo.isWebKit)?"\t\theight: 100%;\n":""),"\t}\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||dojo.isOpera)?"":"\t\tposition: fixed;\n"),"\t\tmin-height:",this.minHeight,";\n","\t\tline-height:",_1c1,";\n","\t}\n","\tp{ margin: 1em 0; }\n",(!_1c0&&!this.height?"\tbody,html {overflow-y: hidden;}\n":""),"\t#dijitEditorBody{overflow-x: auto; overflow-y:"+(this.height?"auto;":"hidden;")+" outline: 0px;}\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!dojo.isIE?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body ",(_1c0?"id='dijitEditorBody' ":""),"onload='frameElement._loadFunc(window,document)' style='"+_1c2+"'>",html,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function(){var _1c5=[];if(this.styleSheets){_1c5=this.styleSheets.split(";");this.styleSheets="";}_1c5=_1c5.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while((url=_1c5[i++])){var _1c6=(new dojo._Url(dojo.global.location,url)).toString();this.editingAreaStyleSheets.push(_1c6);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_1c6+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}if(dojo.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.addCallback(dojo.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _1c7=this.document.createElement("link");_1c7.rel="stylesheet";_1c7.type="text/css";_1c7.href=url;head.appendChild(_1c7);}}));},removeStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}var _1c8=dojo.indexOf(this.editingAreaStyleSheets,url);if(_1c8==-1){return;}delete this.editingAreaStyleSheets[_1c8];dojo.withGlobal(this.window,"query",dojo,["link:[href=\""+url+"\"]"]).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_1c9){_1c9=!!_1c9;this._set("disabled",_1c9);if(!this.isLoaded){return;}if(dojo.isIE||dojo.isWebKit||dojo.isOpera){var _1ca=dojo.isIE&&(this.isLoaded||!this.focusOnLoad);if(_1ca){this.editNode.unselectable="on";}this.editNode.contentEditable=!_1c9;if(_1ca){var _1cb=this;setTimeout(function(){_1cb.editNode.unselectable="off";},0);}}else{try{this.document.designMode=(_1c9?"off":"on");}catch(e){return;}if(!_1c9&&this._mozSettingProps){var ps=this._mozSettingProps;for(var n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}}this._disabledOK=true;},onLoad:function(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=dijit.registerIframe(this.iframe);}if(!dojo.isIE&&!dojo.isWebKit&&(this.height||dojo.isMoz)){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _1cc=this;if(dojo.isIE){this.tabStop=dojo.create("div",{tabIndex:-1},this.editingArea);this.iframe.onfocus=function(){_1cc.editNode.setActive();};}}this.focusNode=this.editNode;var _1cd=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;dojo.forEach(_1cd,function(item){this.connect(ap,item.toLowerCase(),item);},this);this.connect(ap,"onmouseup","onClick");if(dojo.isIE){this.connect(this.document,"onmousedown","_onIEMouseDown");this.editNode.style.zoom=1;}else{this.connect(this.document,"onmousedown",function(){delete this._cursorToStart;});}if(dojo.isWebKit){this._webkitListener=this.connect(this.document,"onmouseup","onDisplayChanged");this.connect(this.document,"onmousedown",function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){setTimeout(dojo.hitch(this,"placeCursorAtEnd"),0);}});}if(dojo.isIE){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _1ce=dojo.hitch(this,function(){this.setValue(html);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}this.onDisplayChanged();if(this.focusOnLoad){dojo.addOnLoad(dojo.hitch(this,function(){setTimeout(dojo.hitch(this,"focus"),this.updateInterval);}));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.addCallback(_1ce);}else{_1ce();}},onKeyDown:function(e){if(e.keyCode===dojo.keys.TAB&&this.isTabIndent){dojo.stopEvent(e);if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(dojo.isIE){if(e.keyCode==dojo.keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===dojo.keys.BACKSPACE&&this.document.selection.type==="Control"){dojo.stopEvent(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}}return true;},onKeyUp:function(e){return;},setDisabled:function(_1cf){dojo.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.set("disabled",_1cf);},_setValueAttr:function(_1d0){this.setValue(_1d0);},_setDisableSpellCheckAttr:function(_1d1){if(this.document){dojo.attr(this.document.body,"spellcheck",!_1d1);}else{this.onLoadDeferred.addCallback(dojo.hitch(this,function(){dojo.attr(this.document.body,"spellcheck",!_1d1);}));}this._set("disableSpellCheck",_1d1);},onKeyPress:function(e){var c=(e.keyChar&&e.keyChar.toLowerCase())||e.keyCode,_1d2=this._keyHandlers[c],args=arguments;if(_1d2&&!e.altKey){dojo.some(_1d2,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,args)){e.preventDefault();}return true;}},this);}if(!this._onKeyHitch){this._onKeyHitch=dojo.hitch(this,"onKeyPressed");}setTimeout(this._onKeyHitch,1);return true;},addKeyHandler:function(key,ctrl,_1d3,_1d4){if(!dojo.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_1d3||false,ctrl:ctrl||false,handler:_1d4});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(e){if(!this._focused&&!this.disabled){this.focus();}},_onBlur:function(e){this.inherited(arguments);var _1d5=this.getValue(true);if(_1d5!=this.value){this.onChange(_1d5);}this._set("value",_1d5);},_onFocus:function(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function(){if(!dojo.isIE&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(dojo.doc.body.focus){dojo.doc.body.focus();}}},focus:function(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(this._cursorToStart){delete this._cursorToStart;if(this.editNode.childNodes){this.placeCursorAtStart();return;}}if(!dojo.isIE){dijit.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){this.iframe.fireEvent("onfocus",document.createEventObject());}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(e){if(this._updateTimer){clearTimeout(this._updateTimer);}if(!this._updateHandler){this._updateHandler=dojo.hitch(this,"onNormalizedDisplayChanged");}this._updateTimer=setTimeout(this._updateHandler,this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(_1d6){},_normalizeCommand:function(cmd,_1d7){var _1d8=cmd.toLowerCase();if(_1d8=="formatblock"){if(dojo.isSafari&&_1d7===undefined){_1d8="heading";}}else{if(_1d8=="hilitecolor"&&!dojo.isMoz){_1d8="backcolor";}}return _1d8;},_qcaCache:{},queryCommandAvailable:function(_1d9){var ca=this._qcaCache[_1d9];if(ca!==undefined){return ca;}return (this._qcaCache[_1d9]=this._queryCommandAvailable(_1d9));},_queryCommandAvailable:function(_1da){var ie=1;var _1db=1<<1;var _1dc=1<<2;var _1dd=1<<3;function _1de(_1df){return {ie:Boolean(_1df&ie),mozilla:Boolean(_1df&_1db),webkit:Boolean(_1df&_1dc),opera:Boolean(_1df&_1dd)};};var _1e0=null;switch(_1da.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_1e0=_1de(_1db|ie|_1dc|_1dd);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_1e0=_1de(_1db|ie|_1dd|_1dc);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_1e0=_1de(ie);break;case "cut":case "copy":case "paste":_1e0=_1de(ie|_1db|_1dc);break;case "inserttable":_1e0=_1de(_1db|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_1e0=_1de(ie|_1db);break;default:return false;}return (dojo.isIE&&_1e0.ie)||(dojo.isMoz&&_1e0.mozilla)||(dojo.isWebKit&&_1e0.webkit)||(dojo.isOpera&&_1e0.opera);},execCommand:function(_1e1,_1e2){var _1e3;this.focus();_1e1=this._normalizeCommand(_1e1,_1e2);if(_1e2!==undefined){if(_1e1=="heading"){throw new Error("unimplemented");}else{if((_1e1=="formatblock")&&dojo.isIE){_1e2="<"+_1e2+">";}}}var _1e4="_"+_1e1+"Impl";if(this[_1e4]){_1e3=this[_1e4](_1e2);}else{_1e2=arguments.length>1?_1e2:null;if(_1e2||_1e1!="createlink"){_1e3=this.document.execCommand(_1e1,false,_1e2);}}this.onDisplayChanged();return _1e3;},queryCommandEnabled:function(_1e5){if(this.disabled||!this._disabledOK){return false;}_1e5=this._normalizeCommand(_1e5);if(dojo.isMoz||dojo.isWebKit){if(_1e5=="unlink"){return this._sCall("hasAncestorElement",["a"]);}else{if(_1e5=="inserttable"){return true;}}}if(dojo.isWebKit){if(_1e5=="cut"||_1e5=="copy"){var sel=this.window.getSelection();if(sel){sel=sel.toString();}return !!sel;}else{if(_1e5=="paste"){return true;}}}var elem=dojo.isIE?this.document.selection.createRange():this.document;try{return elem.queryCommandEnabled(_1e5);}catch(e){return false;}},queryCommandState:function(_1e6){if(this.disabled||!this._disabledOK){return false;}_1e6=this._normalizeCommand(_1e6);try{return this.document.queryCommandState(_1e6);}catch(e){return false;}},queryCommandValue:function(_1e7){if(this.disabled||!this._disabledOK){return false;}var r;_1e7=this._normalizeCommand(_1e7);if(dojo.isIE&&_1e7=="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_1e7)];}else{if(dojo.isMoz&&_1e7==="hilitecolor"){var _1e8;try{_1e8=this.document.queryCommandValue("styleWithCSS");}catch(e){_1e8=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_1e7);this.document.execCommand("styleWithCSS",false,_1e8);}else{r=this.document.queryCommandValue(_1e7);}}return r;},_sCall:function(name,args){return dojo.withGlobal(this.window,name,dijit._editor.selection,args);},placeCursorAtStart:function(){this.focus();var _1e9=false;if(dojo.isMoz){var _1ea=this.editNode.firstChild;while(_1ea){if(_1ea.nodeType==3){if(_1ea.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_1e9=true;this._sCall("selectElement",[_1ea]);break;}}else{if(_1ea.nodeType==1){_1e9=true;var tg=_1ea.tagName?_1ea.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this._sCall("selectElement",[_1ea]);}else{this._sCall("selectElementChildren",[_1ea]);}break;}}_1ea=_1ea.nextSibling;}}else{_1e9=true;this._sCall("selectElementChildren",[this.editNode]);}if(_1e9){this._sCall("collapse",[true]);}},placeCursorAtEnd:function(){this.focus();var _1eb=false;if(dojo.isMoz){var last=this.editNode.lastChild;while(last){if(last.nodeType==3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_1eb=true;this._sCall("selectElement",[last]);break;}}else{if(last.nodeType==1){_1eb=true;if(last.lastChild){this._sCall("selectElement",[last.lastChild]);}else{this._sCall("selectElement",[last]);}break;}}last=last.previousSibling;}}else{_1eb=true;this._sCall("selectElementChildren",[this.editNode]);}if(_1eb){this._sCall("collapse",[false]);}},getValue:function(_1ec){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_1ec);},_getValueAttr:function(){return this.getValue(true);},setValue:function(html){if(!this.isLoaded){this.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.setValue(html);}));return;}this._cursorToStart=true;if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;if(html&&dojo.isMoz&&html.toLowerCase()=="<p></p>"){html="<p>&nbsp;</p>";}if(!html&&dojo.isWebKit){html="&nbsp;";}node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!dojo.isMoz){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(!html){this._cursorToStart=true;html="&nbsp;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}this._set("value",this.getValue(true));},_preFilterContent:function(html){var ec=html;dojo.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;dojo.forEach(this.contentDomPreFilters,function(ef){if(ef&&dojo.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_1ed){var ec;if(!dojo.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_1ed){dom=dojo.clone(dom);}dojo.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=dijit._editor.getChildrenHtml(dom);}else{ec=dom;}if(!dojo.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}dojo.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(e){var _1ee=dojo.byId(dijit._scopeName+"._editor.RichText.value");if(_1ee.value){_1ee.value+=this._SEPARATOR;}_1ee.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);},escapeXml:function(str,_1ef){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_1ef){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){dojo.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit._editor.getNodeHtml instead",2);return dijit._editor.getNodeHtml(node);},getNodeChildrenHtml:function(dom){dojo.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit._editor.getChildrenHtml instead",2);return dijit._editor.getChildrenHtml(dom);},close:function(save){if(this.isClosed){return;}if(!arguments.length){save=true;}if(save){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this.disconnect(this._webkitListener);delete this._webkitListener;}if(dojo.isIE){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){dijit.unregisterIframe(this._iframeRegHandle);delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(dojo.isIE){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;dojo.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;dojo.removeClass(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function(){if(!this.isClosed){this.close(false);}this.inherited(arguments);if(dijit._editor._globalSaveHandler){delete dijit._editor._globalSaveHandler[this.id];}},_removeMozBogus:function(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function(html){html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");html=html.replace(/\sclass="apple-style-span"/gi,"");html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");return html;},_normalizeFontStyle:function(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_inserthorizontalruleImpl:function(_1f0){if(dojo.isIE){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_1f0);},_unlinkImpl:function(_1f1){if((this.queryCommandEnabled("unlink"))&&(dojo.isMoz||dojo.isWebKit)){var a=this._sCall("getAncestorElement",["a"]);this._sCall("selectElement",[a]);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_1f1);},_hilitecolorImpl:function(_1f2){var _1f3;if(dojo.isMoz){this.document.execCommand("styleWithCSS",false,true);_1f3=this.document.execCommand("hilitecolor",false,_1f2);this.document.execCommand("styleWithCSS",false,false);}else{_1f3=this.document.execCommand("hilitecolor",false,_1f2);}return _1f3;},_backcolorImpl:function(_1f4){if(dojo.isIE){_1f4=_1f4?_1f4:null;}return this.document.execCommand("backcolor",false,_1f4);},_forecolorImpl:function(_1f5){if(dojo.isIE){_1f5=_1f5?_1f5:null;}return this.document.execCommand("forecolor",false,_1f5);},_inserthtmlImpl:function(_1f6){_1f6=this._preFilterContent(_1f6);var rv=true;if(dojo.isIE){var _1f7=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()=="CONTROL"){var n=_1f7.item(0);while(_1f7.length){_1f7.remove(_1f7.item(0));}n.outerHTML=_1f6;}else{_1f7.pasteHTML(_1f6);}_1f7.select();}else{if(dojo.isMoz&&!_1f6.length){this._sCall("remove");}else{rv=this.document.execCommand("inserthtml",false,_1f6);}}return rv;},_boldImpl:function(_1f8){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("bold",false,_1f8);},_italicImpl:function(_1f9){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("italic",false,_1f9);},_underlineImpl:function(_1fa){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("underline",false,_1fa);},_strikethroughImpl:function(_1fb){if(dojo.isIE){this._adaptIESelection();}return this.document.execCommand("strikethrough",false,_1fb);},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function(node){var h=0;if(node&&node.childNodes){var i;for(i=0;i<node.childNodes.length;i++){var size=dojo.position(node.childNodes[i]);h+=size.h;}}return h;},_isNodeEmpty:function(node,_1fc){if(node.nodeType==1){if(node.childNodes.length>0){return this._isNodeEmpty(node.childNodes[0],_1fc);}return true;}else{if(node.nodeType==3){return (node.nodeValue.substring(_1fc)=="");}}return false;},_removeStartingRangeFromRange:function(node,_1fd){if(node.nextSibling){_1fd.setStart(node.nextSibling,0);}else{var _1fe=node.parentNode;while(_1fe&&_1fe.nextSibling==null){_1fe=_1fe.parentNode;}if(_1fe){_1fd.setStart(_1fe.nextSibling,0);}}return _1fd;},_adaptIESelection:function(){var _1ff=dijit.range.getSelection(this.window);if(_1ff&&_1ff.rangeCount&&!_1ff.isCollapsed){var _200=_1ff.getRangeAt(0);var _201=_200.startContainer;var _202=_200.startOffset;while(_201.nodeType==3&&_202>=_201.length&&_201.nextSibling){_202=_202-_201.length;_201=_201.nextSibling;}var _203=null;while(this._isNodeEmpty(_201,_202)&&_201!=_203){_203=_201;_200=this._removeStartingRangeFromRange(_201,_200);_201=_200.startContainer;_202=0;}_1ff.removeAllRanges();_1ff.addRange(_200);}}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_204,_205){var _206=this.containerNode;if(_205&&typeof _205=="number"){var _207=this.getChildren();if(_207&&_207.length>=_205){_206=_207[_205-1].domNode;_205="after";}}dojo.place(_204.domNode,_206,_205);if(this._started&&!_204._started){_204.startup();}},removeChild:function(_208){if(typeof _208=="number"){_208=this.getChildren()[_208];}if(_208){var node=_208.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},destroyDescendants:function(_209){dojo.forEach(this.getChildren(),function(_20a){_20a.destroyRecursive(_209);});},_getSiblingOfChild:function(_20b,dir){var node=_20b.domNode,_20c=(dir>0?"nextSibling":"previousSibling");do{node=node[_20c];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_20d){return dojo.indexOf(this.getChildren(),_20d);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_20e){_20e.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",dijit._Container,{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(_20f,_210){var _211=(this._keyNavCodes={});var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_20f,function(code){_211[code]=prev;});dojo.forEach(_210,function(code){_211[code]=next;});_211[dojo.keys.HOME]=dojo.hitch(this,"focusFirstChild");_211[dojo.keys.END]=dojo.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_212,_213){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_212);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){var _214=this._getFirstFocusableChild();if(_214){this.focusChild(_214);}},focusLastChild:function(){var _215=this._getLastFocusableChild();if(_215){this.focusChild(_215);}},focusNext:function(){var _216=this._getNextFocusableChild(this.focusedChild,1);this.focusChild(_216);},focusPrev:function(){var _217=this._getNextFocusableChild(this.focusedChild,-1);this.focusChild(_217,true);},focusChild:function(_218,last){if(this.focusedChild&&_218!==this.focusedChild){this._onChildBlur(this.focusedChild);}_218.set("tabIndex",this.tabIndex);_218.focus(last?"end":"start");this._set("focusedChild",_218);},_startupChild:function(_219){_219.set("tabIndex","-1");this.connect(_219,"_onFocus",function(){_219.set("tabIndex",this.tabIndex);});this.connect(_219,"_onBlur",function(){_219.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.attr(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabIndex",this.tabIndex);}this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onChildBlur:function(_21a){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_21b,dir){if(_21b){_21b=this._getSiblingOfChild(_21b,dir);}var _21c=this.getChildren();for(var i=0;i<_21c.length;i++){if(!_21b){_21b=_21c[(dir>0)?0:(_21c.length-1)];}if(_21b.isFocusable()){return _21b;}_21b=this._getSiblingOfChild(_21b,dir);}return null;}});}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function(_21d,url,_21e){if(typeof _21d=="string"){var _21f=dojo.moduleUrl(_21d,url);}else{_21f=_21d;_21e=url;}var key=_21f.toString();var val=_21e;if(_21e!=undefined&&!dojo.isString(_21e)){val=("value" in _21e?_21e.value:undefined);}var _220=_21e&&_21e.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_220?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_220?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _221=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_221){val=_221[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _222=this.declaredClass,_223=this;return dojo.string.substitute(tmpl,this,function(_224,key){if(key.charAt(0)=="!"){_224=dojo.getObject(key.substr(1),false,_223);}if(typeof _224=="undefined"){throw new Error(_222+" template:"+key);}if(_224==null){return "";}return key.charAt(0)=="!"?_224:_224.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _225=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_225)){node=dojo._toDom(this._stringRepl(_225));if(node.nodeType!=1){throw new Error("Invalid template: "+_225);}}else{node=_225.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_226){var dest=this.containerNode;if(_226&&dest){while(_226.hasChildNodes()){dest.appendChild(_226.firstChild);}}},_attachTemplateNodes:function(_227,_228){_228=_228||function(n,p){return n.getAttribute(p);};var _229=dojo.isArray(_227)?_227:(_227.all||_227.getElementsByTagName("*"));var x=dojo.isArray(_227)?0:-1;for(;x<_229.length;x++){var _22a=(x==-1)?_227:_229[x];if(this.widgetsInTemplate&&(_228(_22a,"dojoType")||_228(_22a,"data-dojo-type"))){continue;}var _22b=_228(_22a,"dojoAttachPoint")||_228(_22a,"data-dojo-attach-point");if(_22b){var _22c,_22d=_22b.split(/\s*,\s*/);while((_22c=_22d.shift())){if(dojo.isArray(this[_22c])){this[_22c].push(_22a);}else{this[_22c]=_22a;}this._attachPoints.push(_22c);}}var _22e=_228(_22a,"dojoAttachEvent")||_228(_22a,"data-dojo-attach-event");if(_22e){var _22f,_230=_22e.split(/\s*,\s*/);var trim=dojo.trim;while((_22f=_230.shift())){if(_22f){var _231=null;if(_22f.indexOf(":")!=-1){var _232=_22f.split(":");_22f=trim(_232[0]);_231=trim(_232[1]);}else{_22f=trim(_22f);}if(!_231){_231=_22f;}this._attachEvents.push(this.connect(_22a,_22f,_231));}}}var role=_228(_22a,"waiRole");if(role){dijit.setWaiRole(_22a,role);}var _233=_228(_22a,"waiState");if(_233){dojo.forEach(_233.split(/\s*,\s*/),function(_234){if(_234.indexOf("-")!=-1){var pair=_234.split("-");dijit.setWaiState(_22a,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_235){delete this[_235];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_236,_237,_238){var _239=dijit._Templated._templateCache;var key=_237||_236;var _23a=_239[key];if(_23a){try{if(!_23a.ownerDocument||_23a.ownerDocument==dojo.doc){return _23a;}}catch(e){}dojo.destroy(_23a);}if(!_237){_237=dojo.cache(_236,{sanitize:true});}_237=dojo.string.trim(_237);if(_238||_237.match(/\$\{([^\}]+)\}/g)){return (_239[key]=_237);}else{var node=dojo._toDom(_237);if(node.nodeType!=1){throw new Error("Invalid template: "+_237);}return (_239[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _23b=dijit._Templated._templateCache;for(var key in _23b){var _23c=_23b[key];if(typeof _23c=="object"){dojo.destroy(_23c);}delete _23b[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.ToolbarSeparator"]){dojo._hasResource["dijit.ToolbarSeparator"]=true;dojo.provide("dijit.ToolbarSeparator");dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Toolbar"]){dojo._hasResource["dijit.Toolbar"]=true;dojo.provide("dijit.Toolbar");dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[dojo.keys.LEFT_ARROW]:[dojo.keys.RIGHT_ARROW],this.isLeftToRight()?[dojo.keys.RIGHT_ARROW]:[dojo.keys.LEFT_ARROW]);},startup:function(){if(this._started){return;}this.startupKeyNavChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_23d){this._set("disabled",_23d);dojo.attr(this.focusNode,"disabled",_23d);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_23d);}dijit.setWaiState(this.focusNode,"disabled",_23d);if(_23d){this._set("hovering",false);this._set("active",false);var _23e="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";dojo.forEach(dojo.isArray(_23e)?_23e:[_23e],function(_23f){var node=this[_23f];if(dojo.isWebKit||dijit.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.focusNode.setAttribute("tabIndex",this.tabIndex);}}},setDisabled:function(_240){dojo.deprecated("setDisabled("+_240+") is deprecated. Use set('disabled',"+_240+") instead.","","2.0");this.set("disabled",_240);},_onFocus:function(e){if(this.scrollOnFocus){dojo.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){if(!this.disabled){dijit.focus(this.focusNode);}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_241){},_onChangeActive:false,_handleOnChange:function(_242,_243){if(this._lastValueReported==undefined&&(_243===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_242;}this._pendingOnChange=this._pendingOnChange||(typeof _242!=typeof this._lastValueReported)||(this.compare(_242,this._lastValueReported)!=0);if((this.intermediateChanges||_243||_243===undefined)&&this._pendingOnChange){this._lastValueReported=_242;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_242);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_244){dojo.deprecated("dijit.form._FormWidget:setValue("+_244+") is deprecated.  Use set('value',"+_244+") instead.","","2.0");this.set("value",_244);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(e){if(!e.ctrlKey&&dojo.mouseButtons.isLeft(e)&&this.isFocusable()){var _245=this.connect(dojo.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_245);});}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_246){dojo.attr(this.focusNode,"readOnly",_246);dijit.setWaiState(this.focusNode,"readonly",_246);this._set("readOnly",_246);},postCreate:function(){this.inherited(arguments);if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_247,_248){this._handleOnChange(_247,_248);},_handleOnChange:function(_249,_24a){this._set("value",_249);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _24b=this.domNode;var _24c=_24b.parentNode;var _24d=_24b.firstChild||_24b;var _24e=_24d.style.filter;var _24f=this;while(_24c&&_24c.clientHeight==0){(function ping(){var _250=_24f.connect(_24c,"onscroll",function(e){_24f.disconnect(_250);_24d.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_24d.style.filter=_24e;},0);});})();_24c=_24c.parentNode;}}}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}dojo.stopEvent(e);this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _251=this.dropDown,_252=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_252){if(dojo.hasClass(t,"dijitPopup")){_252=true;}else{t=t.parentNode;}}if(_252){t=e.target;if(_251.onItemClick){var _253;while(t&&!(_253=dijit.byNode(t))){t=t.parentNode;}if(_253&&_253.onClick&&_253.getParent){_253.getParent().onItemClick(_253,e);}}return;}}}if(this._opened&&_251.focus&&_251.autoFocus!==false){window.setTimeout(dojo.hitch(_251,"focus"),1);}},_onDropDownClick:function(e){if(this._stopClickEvents){dojo.stopEvent(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _254={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_254+"ArrowButton");},postCreate:function(){this.inherited(arguments);this.connect(this._buttonNode,"onmousedown","_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");this.connect(this.focusNode,"onkeyup","_onKeyUp");},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_255=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){dojo.stopEvent(e);return;}}if(d&&this._opened&&e.charOrCode==dojo.keys.ESCAPE){this.closeDropDown();dojo.stopEvent(e);}else{if(!this._opened&&(e.charOrCode==dojo.keys.DOWN_ARROW||((e.charOrCode==dojo.keys.ENTER||e.charOrCode==" ")&&((_255.tagName||"").toLowerCase()!=="input"||(_255.type&&_255.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;dojo.stopEvent(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){setTimeout(dojo.hitch(d,"focus"),1);}}},_onBlur:function(){var _256=dijit._curFocus&&this.dropDown&&dojo.isDescendant(dijit._curFocus,this.dropDown.domNode);this.closeDropDown(_256);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_257){_257();},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function(){var _258=this.dropDown,_259=_258.domNode,_25a=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_259.style.width){this._explicitDDWidth=true;}if(_259.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _25b={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_25b.width="";}if(!this._explicitDDHeight){_25b.height="";}dojo.style(_259,_25b);var _25c=this.maxHeight;if(_25c==-1){var _25d=dojo.window.getBox(),_25e=dojo.position(_25a,false);_25c=Math.floor(Math.max(_25e.y,_25d.h-(_25e.y+_25e.h)));}if(_258.startup&&!_258._started){_258.startup();}dijit.popup.moveOffScreen(_258);var mb=dojo._getMarginSize(_259);var _25f=(_25c&&mb.h>_25c);dojo.style(_259,{overflowX:"hidden",overflowY:_25f?"auto":"hidden"});if(_25f){mb.h=_25c;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_25a.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_25a.offsetWidth);}else{delete mb.w;}}if(dojo.isFunction(_258.resize)){_258.resize(mb);}else{dojo.marginBox(_259,mb);}}var _260=dijit.popup.open({parent:this,popup:_258,around:_25a,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;return _260;},closeDropDown:function(_261){if(this._opened){if(_261){this.focus();}dijit.popup.close(this.dropDown);this._opened=false;}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"valueNode"}),_onClick:function(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _262=dijit.byNode(node);if(_262&&typeof _262._onSubmit=="function"){_262._onSubmit(e);break;}}}else{if(this.valueNode){this.valueNode.click();e.preventDefault();}}}},buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function(_263){if(_263&&(!this.params||!("label" in this.params))){this.set("label",_263.innerHTML);}},_setShowLabelAttr:function(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_264){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_264);},_setLabelAttr:function(_265){this._set("label",_265);this.containerNode.innerHTML=_265;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},_setIconClassAttr:function(val){var _266=this.iconClass||"dijitNoIcon",_267=val||"dijitNoIcon";dojo.replaceClass(this.iconNode,_267,_266);this._set("iconClass",val);}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\" dojoAttachPoint=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/></span>\n"),_fillContent:function(){if(this.srcNodeRef){var _268=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_268[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _269=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_269);delete this.dropDownContainer;}if(this.dropDown){dijit.popup.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _26a=this.dropDown;return (!!_26a&&(!_26a.href||_26a.isLoaded));},loadDropDown:function(){var _26b=this.dropDown;if(!_26b){return;}if(!this.isLoaded()){var _26c=dojo.connect(_26b,"onLoad",this,function(){dojo.disconnect(_26c);this.openDropDown();});_26b.refresh();}else{this.openDropDown();}},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" dojoAttachPoint=\"buttonNode\" dojoAttachEvent=\"ondijitclick:_onButtonClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdojoAttachEvent=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" dojoAttachPoint=\"valueNode\"\n\t\t/></td></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function(_26d){if(!this.disabled){dijit.focus(_26d=="start"?this.titleNode:this._popupStateNode);}}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.set("checked",!this.checked);},_setCheckedAttr:function(_26e,_26f){this._set("checked",_26e);dojo.attr(this.focusNode||this.domNode,"checked",_26e);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_26e);this._handleOnChange(_26e,_26f);},setChecked:function(_270){dojo.deprecated("setChecked("+_270+") is deprecated. Use set('checked',"+_270+") instead.","","2.0");this.set("checked",_270);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit._editor._Plugin"]){dojo._hasResource["dijit._editor._Plugin"]=true;dojo.provide("dijit._editor._Plugin");dojo.declare("dijit._editor._Plugin",null,{constructor:function(args,node){this.params=args||{};dojo.mixin(this,this.params);this._connects=[];this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:dijit.form.Button,disabled:false,getLabel:function(key){return this.editor.commands[key];},_initButton:function(){if(this.command.length){var _271=this.getLabel(this.command),_272=this.editor,_273=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _274=dojo.mixin({label:_271,dir:_272.dir,lang:_272.lang,showLabel:false,iconClass:_273,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});this.button=new this.buttonClass(_274);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);if(this.dropDown){this.dropDown.destroyRecursive();}},connect:function(o,f,tf){this._connects.push(dojo.connect(o,f,this,tf));},updateState:function(){var e=this.editor,c=this.command,_275,_276;if(!e||!e.isLoaded||!c.length){return;}var _277=this.get("disabled");if(this.button){try{_276=!_277&&e.queryCommandEnabled(c);if(this.enabled!==_276){this.enabled=_276;this.button.set("disabled",!_276);}if(typeof this.button.checked=="boolean"){_275=e.queryCommandState(c);if(this.checked!==_275){this.checked=_275;this.button.set("checked",e.queryCommandState(c));}}}catch(e){}}},setEditor:function(_278){this.editor=_278;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.connect(this.button,"onClick",dojo.hitch(this.editor,"execCommand",this.command,this.commandArg));}else{this.button.domNode.style.display="none";}}this.connect(this.editor,"onNormalizedDisplayChanged","updateState");},setToolbar:function(_279){if(this.button){_279.addChild(this.button);}},set:function(name,_27a){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _27b=this._getAttrNames(name);if(this[_27b.s]){var _27c=this[_27b.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,_27a);}return _27c||this;},get:function(name){var _27d=this._getAttrNames(name);return this[_27d.g]?this[_27d.g]():this[name];},_setDisabledAttr:function(_27e){this.disabled=_27e;this.updateState();},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_27f){var _280=this[name];this[name]=_27f;}});}if(!dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]){dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]=true;dojo.provide("dijit._editor.plugins.EnterKeyHandling");dojo.declare("dijit._editor.plugins.EnterKeyHandling",dijit._editor._Plugin,{blockNodeForEnter:"BR",constructor:function(args){if(args){if("blockNodeForEnter" in args){args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();}dojo.mixin(this,args);}},setEditor:function(_281){if(this.editor===_281){return;}this.editor=_281;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_281.onLoadDeferred.addCallback(dojo.hitch(this,function(d){this.connect(_281.document,"onkeypress",function(e){if(e.charOrCode==dojo.keys.ENTER){var ne=dojo.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){dojo.stopEvent(e);}}});return d;}));}else{if(this.blockNodeForEnter){var h=dojo.hitch(this,this.handleEnterKey);_281.addKeyHandler(13,0,0,h);_281.addKeyHandler(13,0,1,h);this.connect(this.editor,"onKeyPressed","onKeyPressed");}}},onKeyPressed:function(e){if(this._checkListLater){if(dojo.withGlobal(this.editor.window,"isCollapsed",dijit)){var _282=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,["LI"]);if(!_282){dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _283=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]);if(_283){_283.innerHTML=this.bogusHtmlContent;if(dojo.isIE){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(dojo.isMoz){if(_282.parentNode.parentNode.nodeName=="LI"){_282=_282.parentNode.parentNode;}}var fc=_282.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_282.insertBefore(fc.ownerDocument.createTextNode(""),fc);var _284=dijit.range.create(this.editor.window);_284.setStart(_282.firstChild,0);var _285=dijit.range.getSelection(this.editor.window,true);_285.removeAllRanges();_285.addRange(_284);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&nbsp;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var _286,_287,_288,_289,_28a,_28b,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _28c=dojo.withGlobal(this.editor.window,"getParentElement",dijit._editor.selection);var _28d=dijit.range.getAncestor(_28c,this.blockNodes);if(_28d){if(_28d.tagName=="LI"){return true;}_286=dijit.range.getSelection(this.editor.window);_287=_286.getRangeAt(0);if(!_287.collapsed){_287.deleteContents();_286=dijit.range.getSelection(this.editor.window);_287=_286.getRangeAt(0);}if(dijit.range.atBeginningOfContainer(_28d,_287.startContainer,_287.startOffset)){br=doc.createElement("br");_288=dijit.range.create(this.editor.window);_28d.insertBefore(br,_28d.firstChild);_288.setStartBefore(br.nextSibling);_286.removeAllRanges();_286.addRange(_288);}else{if(dijit.range.atEndOfContainer(_28d,_287.startContainer,_287.startOffset)){_288=dijit.range.create(this.editor.window);br=doc.createElement("br");_28d.appendChild(br);_28d.appendChild(doc.createTextNode(""));_288.setStart(_28d.lastChild,0);_286.removeAllRanges();_286.addRange(_288);}else{rs=_287.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;dojo.withGlobal(this.editor.window,function(){_289=doc.createTextNode(txt.substring(0,_287.startOffset));_28a=doc.createTextNode(txt.substring(_287.startOffset));_28b=doc.createElement("br");if(_28a.nodeValue==""&&dojo.isWebKit){_28a=doc.createTextNode("");}dojo.place(_289,rs,"after");dojo.place(_28b,_289,"after");dojo.place(_28a,_28b,"after");dojo.destroy(rs);_288=dijit.range.create(dojo.gobal);_288.setStart(_28a,0);_286.removeAllRanges();_286.addRange(_288);});return false;}return true;}}}else{_286=dijit.range.getSelection(this.editor.window);if(_286.rangeCount){_287=_286.getRangeAt(0);if(_287&&_287.startContainer){if(!_287.collapsed){_287.deleteContents();_286=dijit.range.getSelection(this.editor.window);_287=_286.getRangeAt(0);}rs=_287.startContainer;if(rs&&rs.nodeType==3){dojo.withGlobal(this.editor.window,dojo.hitch(this,function(){var _28e=false;var _28f=_287.startOffset;if(rs.length<_28f){ret=this._adjustNodeAndOffset(rs,_28f);rs=ret.node;_28f=ret.offset;}txt=rs.nodeValue;_289=doc.createTextNode(txt.substring(0,_28f));_28a=doc.createTextNode(txt.substring(_28f));_28b=doc.createElement("br");if(!_28a.length){_28a=doc.createTextNode("");_28e=true;}if(_289.length){dojo.place(_289,rs,"after");}else{_289=rs;}dojo.place(_28b,_289,"after");dojo.place(_28a,_28b,"after");dojo.destroy(rs);_288=dijit.range.create(dojo.gobal);_288.setStart(_28a,0);_288.setEnd(_28a,_28a.length);_286.removeAllRanges();_286.addRange(_288);if(_28e&&!dojo.isWebKit){dijit._editor.selection.remove();}else{dijit._editor.selection.collapse(true);}}));}else{dojo.withGlobal(this.editor.window,dojo.hitch(this,function(){var _290=doc.createElement("br");rs.appendChild(_290);var _291=doc.createTextNode("");rs.appendChild(_291);_288=dijit.range.create(dojo.global);_288.setStart(_291,0);_288.setEnd(_291,_291.length);_286.removeAllRanges();_286.addRange(_288);dijit._editor.selection.collapse(true);}));}}}else{dijit._editor.RichText.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _292=true;_286=dijit.range.getSelection(this.editor.window);_287=_286.getRangeAt(0);if(!_287.collapsed){_287.deleteContents();_286=dijit.range.getSelection(this.editor.window);_287=_286.getRangeAt(0);}var _293=dijit.range.getBlockAncestor(_287.endContainer,null,this.editor.editNode);var _294=_293.blockNode;if((this._checkListLater=(_294&&(_294.nodeName=="LI"||_294.parentNode.nodeName=="LI")))){if(dojo.isMoz){this._pressedEnterInBlock=_294;}if(/^(\s|&nbsp;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|\xA0)<\/span>)?(<br>)?$/.test(_294.innerHTML)){_294.innerHTML="";if(dojo.isWebKit){_288=dijit.range.create(this.editor.window);_288.setStart(_294,0);_286.removeAllRanges();_286.addRange(_288);}this._checkListLater=false;}return true;}if(!_293.blockNode||_293.blockNode===this.editor.editNode){try{dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}_293={blockNode:dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]),blockContainer:this.editor.editNode};if(_293.blockNode){if(_293.blockNode!=this.editor.editNode&&(!(_293.blockNode.textContent||_293.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(_293.blockNode);return false;}}else{_293.blockNode=this.editor.editNode;}_286=dijit.range.getSelection(this.editor.window);_287=_286.getRangeAt(0);}var _295=doc.createElement(this.blockNodeForEnter);_295.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_293.blockNode);var _296=_287.endOffset;var node=_287.endContainer;if(node.length<_296){var ret=this._adjustNodeAndOffset(node,_296);node=ret.node;_296=ret.offset;}if(dijit.range.atEndOfContainer(_293.blockNode,node,_296)){if(_293.blockNode===_293.blockContainer){_293.blockNode.appendChild(_295);}else{dojo.place(_295,_293.blockNode,"after");}_292=false;_288=dijit.range.create(this.editor.window);_288.setStart(_295,0);_286.removeAllRanges();_286.addRange(_288);if(this.editor.height){dojo.window.scrollIntoView(_295);}}else{if(dijit.range.atBeginningOfContainer(_293.blockNode,_287.startContainer,_287.startOffset)){dojo.place(_295,_293.blockNode,_293.blockNode===_293.blockContainer?"first":"before");if(_295.nextSibling&&this.editor.height){_288=dijit.range.create(this.editor.window);_288.setStart(_295.nextSibling,0);_286.removeAllRanges();_286.addRange(_288);dojo.window.scrollIntoView(_295.nextSibling);}_292=false;}else{if(_293.blockNode===_293.blockContainer){_293.blockNode.appendChild(_295);}else{dojo.place(_295,_293.blockNode,"after");}_292=false;if(_293.blockNode.style){if(_295.style){if(_293.blockNode.style.cssText){_295.style.cssText=_293.blockNode.style.cssText;}}}rs=_287.startContainer;var _297;if(rs&&rs.nodeType==3){var _298,_299;_296=_287.endOffset;if(rs.length<_296){ret=this._adjustNodeAndOffset(rs,_296);rs=ret.node;_296=ret.offset;}txt=rs.nodeValue;_289=doc.createTextNode(txt.substring(0,_296));_28a=doc.createTextNode(txt.substring(_296,txt.length));dojo.place(_289,rs,"before");dojo.place(_28a,rs,"after");dojo.destroy(rs);var _29a=_289.parentNode;while(_29a!==_293.blockNode){var tg=_29a.tagName;var _29b=doc.createElement(tg);if(_29a.style){if(_29b.style){if(_29a.style.cssText){_29b.style.cssText=_29a.style.cssText;}}}if(_29a.tagName==="FONT"){if(_29a.color){_29b.color=_29a.color;}if(_29a.face){_29b.face=_29a.face;}if(_29a.size){_29b.size=_29a.size;}}_298=_28a;while(_298){_299=_298.nextSibling;_29b.appendChild(_298);_298=_299;}dojo.place(_29b,_29a,"after");_289=_29a;_28a=_29b;_29a=_29a.parentNode;}_298=_28a;if(_298.nodeType==1||(_298.nodeType==3&&_298.nodeValue)){_295.innerHTML="";}_297=_298;while(_298){_299=_298.nextSibling;_295.appendChild(_298);_298=_299;}}_288=dijit.range.create(this.editor.window);var _29c;var _29d=_297;if(this.blockNodeForEnter!=="BR"){while(_29d){_29c=_29d;_299=_29d.firstChild;_29d=_299;}if(_29c&&_29c.parentNode){_295=_29c.parentNode;_288.setStart(_295,0);_286.removeAllRanges();_286.addRange(_288);if(this.editor.height){dijit.scrollIntoView(_295);}if(dojo.isMoz){this._pressedEnterInBlock=_293.blockNode;}}else{_292=true;}}else{_288.setStart(_295,0);_286.removeAllRanges();_286.addRange(_288);if(this.editor.height){dijit.scrollIntoView(_295);}if(dojo.isMoz){this._pressedEnterInBlock=_293.blockNode;}}}}return _292;},_adjustNodeAndOffset:function(node,_29e){while(node.length<_29e&&node.nextSibling&&node.nextSibling.nodeType==3){_29e=_29e-node.length;node=node.nextSibling;}var ret={"node":node,"offset":_29e};return ret;},removeTrailingBr:function(_29f){var para=/P|DIV|LI/i.test(_29f.tagName)?_29f:dijit._editor.selection.getParentOfType(_29f,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){dojo.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.getObject("i18n",true,dojo);dojo.i18n.getLocalization=dojo.i18n.getLocalization||function(_2a0,_2a1,_2a2){_2a2=dojo.i18n.normalizeLocale(_2a2);var _2a3=_2a2.split("-");var _2a4=[_2a0,"nls",_2a1].join(".");var _2a5=dojo._loadedModules[_2a4];if(_2a5){var _2a6;for(var i=_2a3.length;i>0;i--){var loc=_2a3.slice(0,i).join("_");if(_2a5[loc]){_2a6=_2a5[loc];break;}}if(!_2a6){_2a6=_2a5.ROOT;}if(_2a6){var _2a7=function(){};_2a7.prototype=_2a6;return new _2a7();}}throw new Error("Bundle not found: "+_2a1+" in "+_2a0+" , locale="+_2a2);};dojo.i18n.normalizeLocale=function(_2a8){var _2a9=_2a8?_2a8.toLowerCase():dojo.locale;if(_2a9=="root"){_2a9="ROOT";}return _2a9;};dojo.i18n._requireLocalization=function(_2aa,_2ab,_2ac,_2ad){var _2ae=dojo.i18n.normalizeLocale(_2ac);var _2af=[_2aa,"nls",_2ab].join(".");var _2b0="";if(_2ad){var _2b1=_2ad.split(",");for(var i=0;i<_2b1.length;i++){if(_2ae["indexOf"](_2b1[i])==0){if(_2b1[i].length>_2b0.length){_2b0=_2b1[i];}}}if(!_2b0){_2b0="ROOT";}}var _2b2=_2ad?_2b0:_2ae;var _2b3=dojo._loadedModules[_2af];var _2b4=null;if(_2b3){if(dojo.config.localizationComplete&&_2b3._built){return;}var _2b5=_2b2.replace(/-/g,"_");var _2b6=_2af+"."+_2b5;_2b4=dojo._loadedModules[_2b6];}if(!_2b4){_2b3=dojo["provide"](_2af);var syms=dojo._getModuleSymbols(_2aa);var _2b7=syms.concat("nls").join("/");var _2b8;dojo.i18n._searchLocalePath(_2b2,_2ad,function(loc){var _2b9=loc.replace(/-/g,"_");var _2ba=_2af+"."+_2b9;var _2bb=false;if(!dojo._loadedModules[_2ba]){dojo["provide"](_2ba);var _2bc=[_2b7];if(loc!="ROOT"){_2bc.push(loc);}_2bc.push(_2ab);var _2bd=_2bc.join("/")+".js";_2bb=dojo._loadPath(_2bd,null,function(hash){hash=hash.root||hash;var _2be=function(){};_2be.prototype=_2b8;_2b3[_2b9]=new _2be();for(var j in hash){_2b3[_2b9][j]=hash[j];}});}else{_2bb=true;}if(_2bb&&_2b3[_2b9]){_2b8=_2b3[_2b9];}else{_2b3[_2b9]=_2b8;}if(_2ad){return true;}});}if(_2ad&&_2ae!=_2b0){_2b3[_2ae.replace(/-/g,"_")]=_2b3[_2b0.replace(/-/g,"_")];}};(function(){var _2bf=dojo.config.extraLocale;if(_2bf){if(!_2bf instanceof Array){_2bf=[_2bf];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_2c0,_2c1){req(m,b,_2c0,_2c1);if(_2c0){return;}for(var i=0;i<_2bf.length;i++){req(m,b,_2bf[i],_2c1);}};}})();dojo.i18n._searchLocalePath=function(_2c2,down,_2c3){_2c2=dojo.i18n.normalizeLocale(_2c2);var _2c4=_2c2.split("-");var _2c5=[];for(var i=_2c4.length;i>0;i--){_2c5.push(_2c4.slice(0,i).join("-"));}_2c5.push(false);if(down){_2c5.reverse();}for(var j=_2c5.length-1;j>=0;j--){var loc=_2c5[j]||"ROOT";var stop=_2c3(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_2c6,_2c7){function _2c8(_2c9){_2c9=dojo.i18n.normalizeLocale(_2c9);dojo.i18n._searchLocalePath(_2c9,true,function(loc){for(var i=0;i<_2c7.length;i++){if(_2c7[i]==loc){dojo["require"](_2c6+"_"+loc);return true;}}return false;});};_2c8();var _2ca=dojo.config.extraLocale||[];for(var i=0;i<_2ca.length;i++){_2c8(_2ca[i]);}};}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){var _2cb=dijit.getEnclosingWidget(this.domNode.parentNode);return _2cb&&_2cb.isContainer?_2cb:null;},_getSibling:function(_2cc){var node=this.domNode;do{node=node[_2cc+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _2cd=this.getParent&&this.getParent();if(!(_2cd&&_2cd.isLayoutContainer)){this.resize();this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this.resize();});}},resize:function(_2ce,_2cf){var node=this.domNode;if(_2ce){dojo.marginBox(node,_2ce);if(_2ce.t){node.style.top=_2ce.t+"px";}if(_2ce.l){node.style.left=_2ce.l+"px";}}var mb=_2cf||{};dojo.mixin(mb,_2ce||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_2d0){var cls=this.baseClass+"-child "+(_2d0.baseClass?this.baseClass+"-"+_2d0.baseClass:"");dojo.addClass(_2d0.domNode,cls);},addChild:function(_2d1,_2d2){this.inherited(arguments);if(this._started){this._setupChild(_2d1);}},removeChild:function(_2d3){var cls=this.baseClass+"-child"+(_2d3.baseClass?" "+this.baseClass+"-"+_2d3.baseClass:"");dojo.removeClass(_2d3.domNode,cls);this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _2d4=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_2d5,dim){var _2d6=_2d5.resize?_2d5.resize(dim):dojo.marginBox(_2d5.domNode,dim);if(_2d6){dojo.mixin(_2d5,_2d6);}else{dojo.mixin(_2d5,dojo.marginBox(_2d5.domNode));dojo.mixin(_2d5,dim);}};dijit.layout.layoutChildren=function(_2d7,dim,_2d8,_2d9,_2da){dim=dojo.mixin({},dim);dojo.addClass(_2d7,"dijitLayoutContainer");_2d8=dojo.filter(_2d8,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(dojo.filter(_2d8,function(item){return item.region=="center"||item.layoutAlign=="client";}));dojo.forEach(_2d8,function(_2db){var elm=_2db.domNode,pos=(_2db.region||_2db.layoutAlign);var _2dc=elm.style;_2dc.left=dim.l+"px";_2dc.top=dim.t+"px";_2dc.position="absolute";dojo.addClass(elm,"dijitAlign"+_2d4(pos));var _2dd={};if(_2d9&&_2d9==_2db.id){_2dd[_2db.region=="top"||_2db.region=="bottom"?"h":"w"]=_2da;}if(pos=="top"||pos=="bottom"){_2dd.w=dim.w;size(_2db,_2dd);dim.h-=_2db.h;if(pos=="top"){dim.t+=_2db.h;}else{_2dc.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_2dd.h=dim.h;size(_2db,_2dd);dim.w-=_2db.w;if(pos=="left"){dim.l+=_2db.w;}else{_2dc.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_2db,dim);}}}});};})();}if(!dojo._hasResource["dijit.Editor"]){dojo._hasResource["dijit.Editor"]=true;dojo.provide("dijit.Editor");dojo.declare("dijit.Editor",dijit._editor.RichText,{plugins:null,extraPlugins:null,constructor:function(){if(!dojo.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull","dijit._editor.plugins.EnterKeyHandling"];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(dojo.isIE){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function(){this.setValueDeferred=new dojo.Deferred();this.inherited(arguments);},postCreate:function(){this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(dojo.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.inherited(arguments);this.commands=dojo.i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new dijit.Toolbar({dir:this.dir,lang:this.lang});this.header.appendChild(this.toolbar.domNode);}dojo.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.callback(true);dojo.addClass(this.iframe.parentNode,"dijitEditorIFrameContainer");dojo.addClass(this.iframe,"dijitEditorIFrame");dojo.attr(this.iframe,"allowTransparency",true);if(dojo.isWebKit){dojo.style(this.domNode,"KhtmlUserSelect","none");}this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function(){dojo.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_2de,_2df){var args=dojo.isString(_2de)?{name:_2de}:_2de;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};dojo.publish(dijit._scopeName+".Editor.getPlugin",[o]);if(!o.plugin){var pc=dojo.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){console.warn("Cannot find plugin",_2de);return;}_2de=o.plugin;}if(arguments.length>1){this._plugins[_2df]=_2de;}else{this._plugins.push(_2de);}_2de.setEditor(this);if(dojo.isFunction(_2de.setToolbar)){_2de.setToolbar(this.toolbar);}},startup:function(){},resize:function(size){if(size){dijit.layout._LayoutWidget.prototype.resize.apply(this,arguments);}},layout:function(){var _2e0=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+dojo._getPadBorderExtents(this.iframe.parentNode).h+dojo._getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_2e0+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function(e){var _2e1;var b=this.document.body;var _2e2=b.clientWidth;var _2e3=b.clientHeight;var _2e4=b.clientLeft;var _2e5=b.offsetWidth;var _2e6=b.offsetHeight;var _2e7=b.offsetLeft;bodyDir=b.dir?b.dir.toLowerCase():"";if(bodyDir!="rtl"){if(_2e2<_2e5&&e.x>_2e2&&e.x<_2e5){_2e1=true;}}else{if(e.x<_2e4&&e.x>_2e7){_2e1=true;}}if(!_2e1){if(_2e3<_2e6&&e.y>_2e3&&e.y<_2e6){_2e1=true;}}if(!_2e1){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){setTimeout(dojo.hitch(this,"placeCursorAtEnd"),0);}this.inherited(arguments);}},onBeforeActivate:function(e){this._restoreSelection();},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){clearTimeout(this._editTimer);}this._editTimer=setTimeout(dojo.hitch(this,this.endEditing),this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r;var _2e8=/copy|cut|paste/.test(cmd);try{r=this.inherited(arguments);if(dojo.isWebKit&&_2e8&&!r){throw {code:1011};}}catch(e){if(e.code==1011&&_2e8){var sub=dojo.string.substitute,_2e9={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[dojo.isMac?"appleKey":"ctrlKey"],[_2e9[cmd]])]));}r=false;}if(this.customUndo){this._endEditing();}return r;}},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function(b){var _2ea=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_2eb,_2ec,sel;if(mark){if(dojo.isIE<9){if(dojo.isArray(mark)){_2ea=[];dojo.forEach(mark,function(n){_2ea.push(dijit.range.getNode(n,this.editNode));},this);dojo.withGlobal(this.window,"moveToBookmark",dijit,[{mark:_2ea,isCollapsed:col}]);}else{if(mark.startContainer&&mark.endContainer){sel=dijit.range.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=dijit.range.create(this.window);_2eb=dijit.range.getNode(mark.startContainer,this.editNode);_2ec=dijit.range.getNode(mark.endContainer,this.editNode);if(_2eb&&_2ec){r.setStart(_2eb,mark.startOffset);r.setEnd(_2ec,mark.endOffset);sel.addRange(r);}}}}}else{sel=dijit.range.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=dijit.range.create(this.window);_2eb=dijit.range.getNode(mark.startContainer,this.editNode);_2ec=dijit.range.getNode(mark.endContainer,this.editNode);if(_2eb&&_2ec){r.setStart(_2eb,mark.startOffset);r.setEnd(_2ec,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function(_2ed){if(this._editTimer){clearTimeout(this._editTimer);}if(this._inEditing){this._endEditing(_2ed);this._inEditing=false;}},_getBookmark:function(){var b=dojo.withGlobal(this.window,dijit.getBookmark);var tmp=[];if(b&&b.mark){var mark=b.mark;if(dojo.isIE<9){var sel=dijit.range.getSelection(this.window);if(!dojo.isArray(mark)){if(sel){var _2ee;if(sel.rangeCount){_2ee=sel.getRangeAt(0);}if(_2ee){b.mark=_2ee.cloneRange();}else{b.mark=dojo.withGlobal(this.window,dijit.getBookmark);}}}else{dojo.forEach(b.mark,function(n){tmp.push(dijit.range.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=dijit.range.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:dijit.range.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function(cmd){if(this._steps.length===0){this._steps.push({"text":dijit._editor.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function(_2ef){var v=dijit._editor.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!dojo.isIE&&!this.iframe&&e.keyCode==dojo.keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode,ks=dojo.keys;if(e.ctrlKey&&!e.altKey){if(k==90||k==122){dojo.stopEvent(e);this.undo();return;}else{if(k==89||k==121){dojo.stopEvent(e);this.redo();return;}}}this.inherited(arguments);switch(k){case ks.ENTER:case ks.BACKSPACE:case ks.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");setTimeout(dojo.hitch(this,this.endEditing),1);}else{this.beginEditing("paste");setTimeout(dojo.hitch(this,this.endEditing),1);}break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<dojo.keys.F1||e.keyCode>dojo.keys.F15)){this.beginEditing();break;}case ks.ALT:this.endEditing();break;case ks.UP_ARROW:case ks.DOWN_ARROW:case ks.LEFT_ARROW:case ks.RIGHT_ARROW:case ks.HOME:case ks.END:case ks.PAGE_UP:case ks.PAGE_DOWN:this.endEditing(true);break;case ks.CTRL:case ks.SHIFT:case ks.TAB:break;}},_onBlur:function(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function(){if(this._savedSelection){delete this._cursorToStart;if(dojo.withGlobal(this.window,"isCollapsed",dijit)){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function(){this.endEditing(true);this.inherited(arguments);},replaceValue:function(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&nbsp;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function(_2f0){var _2f1=dojo.hitch(this,function(){if((!this.disabled&&_2f0)||(!this._buttonEnabledPlugins&&_2f0)){dojo.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_2f0){dojo.forEach(this._plugins,function(p){p.set("disabled",false);});}}});this.setValueDeferred.addCallback(_2f1);this.inherited(arguments);},_setStateClass:function(){try{this.inherited(arguments);if(this.document&&this.document.body){dojo.style(this.document.body,"color",dojo.style(this.iframe,"color"));}}catch(e){}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var args=o.args,p;var _2f2=dijit._editor._Plugin;var name=args.name;switch(name){case "undo":case "redo":case "cut":case "copy":case "paste":case "insertOrderedList":case "insertUnorderedList":case "indent":case "outdent":case "justifyCenter":case "justifyFull":case "justifyLeft":case "justifyRight":case "delete":case "selectAll":case "removeFormat":case "unlink":case "insertHorizontalRule":p=new _2f2({command:name});break;case "bold":case "italic":case "underline":case "strikethrough":case "subscript":case "superscript":p=new _2f2({buttonClass:dijit.form.ToggleButton,command:name});break;case "|":p=new _2f2({button:new dijit.ToolbarSeparator(),setEditor:function(_2f3){this.editor=_2f3;}});}o.plugin=p;});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.getObject("regexp",true,dojo);dojo.regexp.escapeString=function(str,_2f4){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_2f4&&_2f4.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_2f5){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_2f5);};dojo.regexp.group=function(_2f6,_2f7){return "("+(_2f7?"?:":"")+_2f6+")";};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.getObject("data.util.sorter",true,dojo);dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_2f8,_2f9){var _2fa=[];function _2fb(attr,dir,comp,s){return function(_2fc,_2fd){var a=s.getValue(_2fc,attr);var b=s.getValue(_2fd,attr);return dir*comp(a,b);};};var _2fe;var map=_2f9.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_2f8.length;i++){_2fe=_2f8[i];var attr=_2fe.attribute;if(attr){var dir=(_2fe.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_2fa.push(_2fb(attr,dir,comp,_2f9));}}return function(rowA,rowB){var i=0;while(i<_2fa.length){var ret=_2fa[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.getObject("data.util.simpleFetch",true,dojo);dojo.data.util.simpleFetch.fetch=function(_2ff){_2ff=_2ff||{};if(!_2ff.store){_2ff.store=this;}var self=this;var _300=function(_301,_302){if(_302.onError){var _303=_302.scope||dojo.global;_302.onError.call(_303,_301,_302);}};var _304=function(_305,_306){var _307=_306.abort||null;var _308=false;var _309=_306.start?_306.start:0;var _30a=(_306.count&&(_306.count!==Infinity))?(_309+_306.count):_305.length;_306.abort=function(){_308=true;if(_307){_307.call(_306);}};var _30b=_306.scope||dojo.global;if(!_306.store){_306.store=self;}if(_306.onBegin){_306.onBegin.call(_30b,_305.length,_306);}if(_306.sort){_305.sort(dojo.data.util.sorter.createSortFunction(_306.sort,self));}if(_306.onItem){for(var i=_309;(i<_305.length)&&(i<_30a);++i){var item=_305[i];if(!_308){_306.onItem.call(_30b,item,_306);}}}if(_306.onComplete&&!_308){var _30c=null;if(!_306.onItem){_30c=_305.slice(_309,_30a);}_306.onComplete.call(_30b,_30c,_306);}};this._fetchItems(_2ff,_304,_300);return _2ff;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.getObject("data.util.filter",true,dojo);dojo.data.util.filter.patternToRegExp=function(_30d,_30e){var rxp="^";var c=null;for(var i=0;i<_30d.length;i++){c=_30d.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_30d.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_30e){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:dojo.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:dojo.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==dijit.form.TextBox.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=dojo.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";}},_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_30f,_310,_311){var _312;if(_30f!==undefined){_312=this.filter(_30f);if(typeof _311!="string"){if(_312!==null&&((typeof _312!="number")||!isNaN(_312))){_311=this.filter(this.format(_312,this.constraints));}else{_311="";}}}if(_311!=null&&_311!=undefined&&((typeof _311)!="number"||!isNaN(_311))&&this.textbox.value!=_311){this.textbox.value=_311;this._set("displayedValue",this.get("displayedValue"));}this._updatePlaceHolder();this.inherited(arguments,[_312,_310]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_313){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_313);},_setDisplayedValueAttr:function(_314){if(_314===null||_314===undefined){_314="";}else{if(typeof _314!="string"){_314=String(_314);}}this.textbox.value=_314;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_315,_316){return ((_315==null||_315==undefined)?"":(_315.toString?_315.toString():_315));},parse:function(_317,_318){return _317;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _319=this;setTimeout(function(){_319._handleOnChange(_319.get("value"),false);},0);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){if(dojo.isIE){setTimeout(dojo.hitch(this,function(){var s=dojo.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _31a=this.domNode.getElementsByTagName("INPUT");if(_31a){for(var i=0;i<_31a.length;i++){_31a[i].style.fontFamily=ff;}}}}}),0);}this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput","_onInput");}else{this.connect(this.textbox,"onkeydown","_onInput");this.connect(this.textbox,"onkeyup","_onInput");this.connect(this.textbox,"onpaste","_onInput");this.connect(this.textbox,"oncut","_onInput");}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _31b;if(dojo.isIE){var _31c=dojo.doc.selection.createRange();var _31d=_31c.parentElement();_31b=_31d==this.textbox&&_31c.text.length==0;}else{_31b=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_31b){dijit.selectInputText(this.textbox);}});}this._updatePlaceHolder();this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_31e,_31f,stop){var _320=dojo.global;var _321=dojo.doc;_31e=dojo.byId(_31e);if(isNaN(_31f)){_31f=0;}if(isNaN(stop)){stop=_31e.value?_31e.value.length:0;}dijit.focus(_31e);if(_321["selection"]&&dojo.body()["createTextRange"]){if(_31e.createTextRange){var r=_31e.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_31f);r.moveEnd("character",stop-_31f);r.select();}}else{if(_320["getSelection"]){if(_31e.setSelectionRange){_31e.setSelectionRange(_31f,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\n></div>\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_322,_323,_324,rtl){if(this.aroundNode&&this.aroundNode===_323){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_322;var pos=dijit.placeOnScreenAroundElement(this.domNode,_323,dijit.getPopupAroundAlignment((_324&&_324.length)?_324:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_323;},orient:function(node,_325,_326,_327,_328){this.connectorNode.style.top="";var _329=_327.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_325+"-"+_326];this.domNode.style.width="auto";var size=dojo.contentBox(this.domNode);var _32a=Math.min((Math.max(_329,1)),size.w);var _32b=_32a<size.w;this.domNode.style.width=_32a+"px";if(_32b){this.containerNode.style.overflow="auto";var _32c=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_32c>_32a){_32c=_32c+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight");this.domNode.style.width=_32c+"px";}}if(_326.charAt(0)=="B"&&_325.charAt(0)=="B"){var mb=dojo.marginBox(node);var _32d=this.connectorNode.offsetHeight;if(mb.h>_327.h){var _32e=_327.h-(_328.h/2)-(_32d/2);this.connectorNode.style.top=_32e+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_328.h/2-_32d/2,0),mb.h-_32d)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_329);},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_32f){if(this._onDeck&&this._onDeck[1]==_32f){this._onDeck=null;}else{if(this.aroundNode===_32f){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_330,_331,_332,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_330,_331,_332,rtl);};dijit.hideTooltip=function(_333){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_333);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_334){dojo.forEach(this._connections||[],function(_335){dojo.forEach(_335,dojo.hitch(this,"disconnect"));},this);var ary=dojo.isArrayLike(_334)?_334:(_334?[_334]:[]);this._connections=dojo.map(ary,function(id){var node=dojo.byId(id);return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",_334);this._connectIds=ary;},addTarget:function(node){var id=node.id||node;if(dojo.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=dojo.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _336=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_336);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_337){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_337,this.position,!this.isLeftToRight());this._connectNode=_337;this.onShow(_337,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_338,_339){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(_33a){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_33b,_33c){return (new RegExp("^(?:"+this.regExpGen(_33c)+")"+(this.required?"":"?")+"$")).test(_33b)&&(!this.required||!this._isEmpty(_33b))&&(this._isEmpty(_33b)||this.parse(_33b,_33c)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_33d){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_33e){return (this.trim?/^\s*$/:/^$/).test(_33e);},getErrorMessage:function(_33f){return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function(_340){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_341){var _342="";var _343=this.disabled||this.isValid(_341);if(_343){this._maskValidSubsetError=true;}var _344=this._isEmpty(this.textbox.value);var _345=!_343&&_341&&this._isValidSubset();this._set("state",_343?"":(((((!this._hasBeenBlurred||_341)&&_344)||_345)&&this._maskValidSubsetError)?"Incomplete":"Error"));dijit.setWaiState(this.focusNode,"invalid",_343?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_341&&_345;_342=this.getErrorMessage(_341);}else{if(this.state=="Incomplete"){_342=this.getPromptMessage(_341);this._maskValidSubsetError=!this._hasBeenBlurred||_341;}else{if(_344){_342=this.getPromptMessage(_341);}}}this.set("message",_342);return _343;},displayMessage:function(_346){dijit.hideTooltip(this.domNode);if(_346&&this._focused){dijit.showTooltip(_346,this.domNode,this.tooltipPosition,!this.isLeftToRight());}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},_setConstraintsAttr:function(_347){if(!_347.locale&&this.lang){_347.locale=this.lang;}this._set("constraints",_347);this._computePartialRE();},_computePartialRE:function(){var p=this.regExpGen(this.constraints);this.regExp=p;var _348="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_348+=re;break;case ")":_348+="|$)";break;default:_348+="(?:"+re+"|$)";break;}});}try{"".search(_348);}catch(e){_348=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_348+")$";},postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_349){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_34a){this._set("required",_34a);dijit.setWaiState(this.focusNode,"required",_34a);this._refreshState();},_setMessageAttr:function(_34b){this._set("message",_34b);this.displayMessage(_34b);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_34c){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_34d,_34e){return ("min" in _34e?(this.compare(_34d,_34e.min)>=0):true)&&("max" in _34e?(this.compare(_34d,_34e.max)<=0):true);},isInRange:function(_34f){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");var _350=false;var _351=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_350=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_351=(typeof max=="number")&&max>0;}return _350||_351;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_352){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_352));},getErrorMessage:function(_353){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_353)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function(_354){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}else{dijit.removeWaiState(this.focusNode,"valuemin");}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}else{dijit.removeWaiState(this.focusNode,"valuemax");}}},_setValueAttr:function(_355,_356){dijit.setWaiState(this.focusNode,"valuenow",_355);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",dijit._HasDropDown,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/DropDownBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitComboBox",dropDownClass:"dijit.form._ComboBoxMenu",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_357){var pos=0;if(typeof (_357.selectionStart)=="number"){pos=_357.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_357.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_358,_359){_359=parseInt(_359);dijit.selectInputText(_358,_359,_359);},_setDisabledAttr:function(_35a){this.inherited(arguments);dijit.setWaiState(this.domNode,"disabled",_35a);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.abort){this._fetchHandle.abort();}this._fetchHandle=null;}},_onInput:function(evt){if(!this.searchTimer&&(evt.type=="paste"||evt.type=="input")&&this._lastInput!=this.textbox.value){this.searchTimer=setTimeout(dojo.hitch(this,function(){this._onKey({charOrCode:229});}),100);}this.inherited(arguments);},_onKey:function(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){return;}var _35b=false;var pw=this.dropDown;var dk=dojo.keys;var _35c=null;this._prev_key_backspace=false;this._abortQuery();this.inherited(arguments);if(this._opened){_35c=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:case dk.PAGE_UP:case dk.UP_ARROW:if(this._opened){this._announceOption(_35c);}dojo.stopEvent(evt);break;case dk.ENTER:if(_35c){if(_35c==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_35c==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}if(this._opened||this._fetchHandle){evt.preventDefault();}case dk.TAB:var _35d=this.get("displayedValue");if(pw&&(_35d==pw._messages["previousMessage"]||_35d==pw._messages["nextMessage"])){break;}if(_35c){this._selectOption();}if(this._opened){this._lastQuery=null;this.closeDropDown();}break;case " ":if(_35c){dojo.stopEvent(evt);this._selectOption();this.closeDropDown();}else{_35b=true;}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_backspace=true;_35b=true;break;default:_35b=typeof key=="string"||key==229;}if(_35b){this.item=undefined;this.searchTimer=setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _35e=this.ignoreCase?"toLowerCase":"substr";if(text[_35e](0).indexOf(this.focusNode.value[_35e](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_35f,_360){this._fetchHandle=null;if(this.disabled||this.readOnly||(_360.query[this.searchAttr]!=this._lastQuery)){return;}var _361=this.dropDown._highlighted_option&&dojo.hasClass(this.dropDown._highlighted_option,"dijitMenuItemSelected");this.dropDown.clearResultList();if(!_35f.length&&!this._maxOptions){this.closeDropDown();return;}_360._maxOptions=this._maxOptions;var _362=this.dropDown.createOptions(_35f,_360,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_360.direction){if(1==_360.direction){this.dropDown.highlightFirstOption();}else{if(-1==_360.direction){this.dropDown.highlightLastOption();}}if(_361){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_360.query[this.searchAttr])){this._announceOption(_362[1]);}}},_showResultList:function(){this.closeDropDown(true);this.displayMessage("");this.openDropDown();dijit.setWaiState(this.domNode,"expanded","true");},loadDropDown:function(_363){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);dijit.setWaiState(this.domNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _364=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_364==pw._messages["previousMessage"]||_364==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_364);}else{if(this.value!=this._lastValueReported){dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);}this._refreshState();}}},_onBlur:function(){this.closeDropDown();this.inherited(arguments);},_setItemAttr:function(item,_365,_366){if(!_366){_366=this.store.getValue(item,this.searchAttr);}var _367=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_366;this._set("item",item);dijit.form.ComboBox.superclass._setValueAttr.call(this,_367,_365,_366);},_announceOption:function(node){if(!node){return;}var _368;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_368=node.innerHTML;this.item=undefined;this.value="";}else{_368=this.store.getValue(node.item,this.searchAttr).toString();this.set("item",node.item,false,_368);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_368);},_selectOption:function(evt){if(evt){this._announceOption(evt.target);}this.closeDropDown();this._setCaretPos(this.focusNode,this.focusNode.value.length);dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this.dropDown){var _369=this.id+"_popup",_36a=dojo.getObject(this.dropDownClass,false);this.dropDown=new _36a({onChange:dojo.hitch(this,this._selectOption),id:_369,dir:this.dir});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_369);}var _36b=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_36b[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_36c,_36d){this.searchTimer=null;var _36e={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_36c,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_36f){_36d._fetchHandle=null;console.error("dijit.form.ComboBox: "+_36f);_36d.closeDropDown();},start:0,count:this.pageSize};dojo.mixin(_36e,_36d.fetchProperties);this._fetchHandle=_36d.store.fetch(_36e);var _370=function(_371,_372){_371.start+=_371.count*_372;_371.direction=_372;this._fetchHandle=this.store.fetch(_371);this.focus();};this._nextSearch=this.dropDown.onPage=dojo.hitch(this,_370,this._fetchHandle);},_36b,this),this.searchDelay);},_setMaxOptions:function(size,_373){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var _374=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_374);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _375=this._getValueField();this.value=this.store.getValue(item,_375);}}}this.inherited(arguments);},postCreate:function(){var _376=dojo.query("label[for=\""+this.id+"\"]");if(_376.length){_376[0].id=(this.id+"_label");dijit.setWaiState(this.domNode,"labelledby",_376[0].id);}this.inherited(arguments);},_setHasDownArrowAttr:function(val){this.hasDownArrow=val;this._buttonNode.style.display=val?"":"none";},_getMenuLabelFromItem:function(item){var _377=this.labelFunc(item,this.store),_378=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_377=this.doHighlight(_377,this._escapeHtml(this._lastInput));_378="html";}return {html:_378=="html",label:_377};},doHighlight:function(_379,find){var _37a=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=dojo.regexp.escapeString(find);return this._escapeHtml(_379).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_37a),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_37b){return _37b.getValue(item,this.labelAttr||this.searchAttr).toString();}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' role='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' role='option'></li>"+"</ul>",_messages:null,baseClass:"dijitComboBoxMenu",postMixInProperties:function(){this.inherited(arguments);this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_37c){this.value=_37c;this.onChange(_37c);},onChange:function(_37d){},onPage:function(_37e){},onClose:function(){this._blurOptionNode();},_createOption:function(item,_37f){var _380=dojo.create("li",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});var _381=_37f(item);if(_381.html){_380.innerHTML=_381.label;}else{_380.appendChild(dojo.doc.createTextNode(_381.label));}if(_380.innerHTML==""){_380.innerHTML="&nbsp;";}_380.item=item;return _380;},createOptions:function(_382,_383,_384){this.previousButton.style.display=(_383.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_382,function(item,i){var _385=this._createOption(item,_384);dojo.attr(_385,"id",this.id+i);this.domNode.insertBefore(_385,this.nextButton);},this);var _386=false;if(_383._maxOptions&&_383._maxOptions!=-1){if((_383.start+_383.count)<_383._maxOptions){_386=true;}else{if((_383.start+_383.count)>_383._maxOptions&&_383.count==_382.length){_386=true;}}}else{if(_383.count==_382.length){_386=true;}}this.nextButton.style.display=_386?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}this._blurOptionNode();},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode||!this._highlighted_option){return;}else{if(evt.target==this.previousButton){this._blurOptionNode();this.onPage(-1);}else{if(evt.target==this.nextButton){this._blurOptionNode();this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){if(!this.getHighlightedOption()){var fc=this.domNode.firstChild;this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}else{this.highlightFirstOption();}}dojo.window.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){var _387=this.domNode.firstChild;var _388=_387.nextSibling;this._focusOptionNode(_388.style.display=="none"?_387:_388);dojo.window.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dojo.window.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){if(!this.getHighlightedOption()){var lc=this.domNode.lastChild;this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}else{this.highlightLastOption();}}dojo.window.scrollIntoView(this._highlighted_option);},_page:function(up){var _389=0;var _38a=this.domNode.scrollTop;var _38b=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_389<_38b){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _38c=this.domNode.scrollTop;_389+=(_38c-_38a)*(up?-1:1);_38a=_38c;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(evt){switch(evt.charOrCode){case dojo.keys.DOWN_ARROW:this._highlightNextOption();return false;case dojo.keys.PAGE_DOWN:this.pageDown();return false;case dojo.keys.UP_ARROW:this._highlightPrevOption();return false;case dojo.keys.PAGE_UP:this.pageUp();return false;default:return true;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_38d,_38e,_38f){this._set("item",null);if(!_38d){_38d="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_38d,_38e,_38f);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;if(root.tagName!="SELECT"&&root.firstChild){root=dojo.query("select",root);if(root.length>0){root=root[0];}else{this.root.innerHTML="<SELECT>"+this.root.innerHTML+"</SELECT>";root=this.root.firstChild;}this.root=root;}dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_390,_391){return (_390=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_392){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_393,_394){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _395=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_396=dojo.query("> option",this.root).filter(function(_397){return (_397.innerText||_397.textContent||"").match(_395);});if(args.sort){_396.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_393(_396,args);},close:function(_398){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("> option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return typeof si=="number"?dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0]:null;}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_399,_39a,_39b){if((_39a&&_39a.query[this.searchAttr]!=this._lastQuery)||(!_39a&&_399.length&&this.store.getIdentity(_399[0])!=this._lastQuery)){return;}if(!_399.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_39b||(_39b===undefined&&!this._focused));this._set("item",null);this.validate(this._focused);}else{this.set("item",_399[0],_39b);}},_openResultList:function(_39c,_39d){if(_39d.query[this.searchAttr]!=this._lastQuery){return;}dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_39e,_39f){if(!this._onChangeActive){_39f=null;}this._lastQuery=_39e;if(_39e===null||_39e===""){this._setDisplayedValueAttr("",_39f);return;}var self=this;this.store.fetchItemByIdentity({identity:_39e,onItem:function(item){self._callbackSetLabel(item?[item]:[],undefined,_39f);}});},_setItemAttr:function(item,_3a0,_3a1){this.inherited(arguments);this.valueNode.value=this.value;this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_3a2,_3a3){if(_3a2==null){_3a2="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_3a3=false;}if(this.store){this.closeDropDown();var _3a4=dojo.clone(this.query);this._lastQuery=_3a4[this.searchAttr]=this._getDisplayQueryString(_3a2);this.textbox.value=_3a2;this._lastDisplayedValue=_3a2;this._set("displayedValue",_3a2);var _3a5=this;var _3a6={query:_3a4,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_3a7,_3a8){_3a5._fetchHandle=null;dojo.hitch(_3a5,"_callbackSetLabel")(_3a7,_3a8,_3a3);},onError:function(_3a9){_3a5._fetchHandle=null;console.error("dijit.form.FilteringSelect: "+_3a9);dojo.hitch(_3a5,"_callbackSetLabel")([],undefined,false);}};dojo.mixin(_3a6,this.fetchProperties);this._fetchHandle=this.store.fetch(_3a6);}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_3aa){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_3aa.url;this._ccUrl=_3aa.url;this.url=_3aa.url;this._jsonData=_3aa.data;this.data=null;this._datatypeMap=_3aa.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_3ab){return dojo.date.stamp.fromISOString(_3ab);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_3aa.urlPreventCache!==undefined){this.urlPreventCache=_3aa.urlPreventCache?true:false;}if(_3aa.hierarchical!==undefined){this.hierarchical=_3aa.hierarchical?true:false;}if(_3aa.clearOnClose){this.clearOnClose=true;}if("failOk" in _3aa){this.failOk=_3aa.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_3ac){if(typeof _3ac!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_3ad,_3ae){var _3af=this.getValues(item,_3ad);return (_3af.length>0)?_3af[0]:_3ae;},getValues:function(item,_3b0){this._assertIsItem(item);this._assertIsAttribute(_3b0);return (item[_3b0]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _3b1=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_3b1.push(key);}}return _3b1;},hasAttribute:function(item,_3b2){this._assertIsItem(item);this._assertIsAttribute(_3b2);return (_3b2 in item);},containsValue:function(item,_3b3,_3b4){var _3b5=undefined;if(typeof _3b4==="string"){_3b5=dojo.data.util.filter.patternToRegExp(_3b4,false);}return this._containsValue(item,_3b3,_3b4,_3b5);},_containsValue:function(item,_3b6,_3b7,_3b8){return dojo.some(this.getValues(item,_3b6),function(_3b9){if(_3b9!==null&&!dojo.isObject(_3b9)&&_3b8){if(_3b9.toString().match(_3b8)){return true;}}else{if(_3b7===_3b9){return true;}}});},isItem:function(_3ba){if(_3ba&&_3ba[this._storeRefPropName]===this){if(this._arrayOfAllItems[_3ba[this._itemNumPropName]]===_3ba){return true;}}return false;},isItemLoaded:function(_3bb){return this.isItem(_3bb);},loadItem:function(_3bc){this._assertIsItem(_3bc.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_3bd,_3be,_3bf){var self=this,_3c0=function(_3c1,_3c2){var _3c3=[],i,key;if(_3c1.query){var _3c4,_3c5=_3c1.queryOptions?_3c1.queryOptions.ignoreCase:false;var _3c6={};for(key in _3c1.query){_3c4=_3c1.query[key];if(typeof _3c4==="string"){_3c6[key]=dojo.data.util.filter.patternToRegExp(_3c4,_3c5);}else{if(_3c4 instanceof RegExp){_3c6[key]=_3c4;}}}for(i=0;i<_3c2.length;++i){var _3c7=true;var _3c8=_3c2[i];if(_3c8===null){_3c7=false;}else{for(key in _3c1.query){_3c4=_3c1.query[key];if(!self._containsValue(_3c8,key,_3c4,_3c6[key])){_3c7=false;}}}if(_3c7){_3c3.push(_3c8);}}_3be(_3c3,_3c1);}else{for(i=0;i<_3c2.length;++i){var item=_3c2[i];if(item!==null){_3c3.push(item);}}_3be(_3c3,_3c1);}};if(this._loadFinished){_3c0(_3bd,this._getItemsArray(_3bd.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_3bd,filter:_3c0});}else{this._loadInProgress=true;var _3c9={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _3ca=dojo.xhrGet(_3c9);_3ca.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_3c0(_3bd,self._getItemsArray(_3bd.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_3bf(e,_3bd);}});_3ca.addErrback(function(_3cb){self._loadInProgress=false;_3bf(_3cb,_3bd);});var _3cc=null;if(_3bd.abort){_3cc=_3bd.abort;}_3bd.abort=function(){var df=_3ca;if(df&&df.fired===-1){df.cancel();df=null;}if(_3cc){_3cc.call(_3bd);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_3c0(_3bd,this._getItemsArray(_3bd.queryOptions));}catch(e){_3bf(e,_3bd);}}else{_3bf(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_3bd);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _3cd=this._queuedFetches[i],_3ce=_3cd.args,_3cf=_3cd.filter;if(_3cf){_3cf(_3ce,this._getItemsArray(_3ce.queryOptions));}else{this.fetchItemByIdentity(_3ce);}}this._queuedFetches=[];}},_getItemsArray:function(_3d0){if(_3d0&&_3d0.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_3d1){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_3d2){var _3d3=false,self=this;function _3d4(_3d5){var _3d6=((_3d5!==null)&&(typeof _3d5==="object")&&(!dojo.isArray(_3d5)||_3d3)&&(!dojo.isFunction(_3d5))&&(_3d5.constructor==Object||dojo.isArray(_3d5))&&(typeof _3d5._reference==="undefined")&&(typeof _3d5._type==="undefined")&&(typeof _3d5._value==="undefined")&&self.hierarchical);return _3d6;};function _3d7(_3d8){self._arrayOfAllItems.push(_3d8);for(var _3d9 in _3d8){var _3da=_3d8[_3d9];if(_3da){if(dojo.isArray(_3da)){var _3db=_3da;for(var k=0;k<_3db.length;++k){var _3dc=_3db[k];if(_3d4(_3dc)){_3d7(_3dc);}}}else{if(_3d4(_3da)){_3d7(_3da);}}}}};this._labelAttr=_3d2.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_3d2.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(dojo.isArray(item)){_3d3=true;}_3d7(item);item[this._rootItemPropName]=true;}var _3dd={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _3de=item[key];if(_3de!==null){if(!dojo.isArray(_3de)){item[key]=[_3de];}}else{item[key]=[null];}}_3dd[key]=key;}}while(_3dd[this._storeRefPropName]){this._storeRefPropName+="_";}while(_3dd[this._itemNumPropName]){this._itemNumPropName+="_";}while(_3dd[this._reverseRefMap]){this._reverseRefMap+="_";}var _3df;var _3e0=_3d2.identifier;if(_3e0){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_3e0;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_3df=item[_3e0];var _3e1=_3df[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_3e1)){this._itemsByIdentity[_3e1]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_3e0+"].  Value collided: ["+_3e1+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_3e0+"].  Value collided: ["+_3e1+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_3df=item[key];for(var j=0;j<_3df.length;++j){_3de=_3df[j];if(_3de!==null&&typeof _3de=="object"){if(("_type" in _3de)&&("_value" in _3de)){var type=_3de._type;var _3e2=this._datatypeMap[type];if(!_3e2){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_3e2)){_3df[j]=new _3e2(_3de._value);}else{if(dojo.isFunction(_3e2.deserialize)){_3df[j]=_3e2.deserialize(_3de._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_3de._reference){var _3e3=_3de._reference;if(!dojo.isObject(_3e3)){_3df[j]=this._getItemByIdentity(_3e3);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _3e4=this._arrayOfAllItems[k],_3e5=true;for(var _3e6 in _3e3){if(_3e4[_3e6]!=_3e3[_3e6]){_3e5=false;}}if(_3e5){_3df[j]=_3e4;}}}if(this.referenceIntegrity){var _3e7=_3df[j];if(this.isItem(_3e7)){this._addReferenceToMap(_3e7,item,key);}}}else{if(this.isItem(_3de)){if(this.referenceIntegrity){this._addReferenceToMap(_3de,item,key);}}}}}}}},_addReferenceToMap:function(_3e8,_3e9,_3ea){},getIdentity:function(item){var _3eb=this._features["dojo.data.api.Identity"];if(_3eb===Number){return item[this._itemNumPropName];}else{var _3ec=item[_3eb];if(_3ec){return _3ec[0];}}return null;},fetchItemByIdentity:function(_3ed){var item,_3ee;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_3ed});}else{this._loadInProgress=true;var _3ef={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _3f0=dojo.xhrGet(_3ef);_3f0.addCallback(function(data){var _3f1=_3ed.scope?_3ed.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_3ed.identity);if(_3ed.onItem){_3ed.onItem.call(_3f1,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_3ed.onError){_3ed.onError.call(_3f1,error);}}});_3f0.addErrback(function(_3f2){self._loadInProgress=false;if(_3ed.onError){var _3f3=_3ed.scope?_3ed.scope:dojo.global;_3ed.onError.call(_3f3,_3f2);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_3ed.identity);if(_3ed.onItem){_3ee=_3ed.scope?_3ed.scope:dojo.global;_3ed.onItem.call(_3ee,item);}}}}else{item=this._getItemByIdentity(_3ed.identity);if(_3ed.onItem){_3ee=_3ed.scope?_3ed.scope:dojo.global;_3ed.onItem.call(_3ee,item);}}},_getItemByIdentity:function(_3f4){var item=null;if(this._itemsByIdentity&&Object.hasOwnProperty.call(this._itemsByIdentity,_3f4)){item=this._itemsByIdentity[_3f4];}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_3f4)){item=this._arrayOfAllItems[_3f4];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _3f5=this._features["dojo.data.api.Identity"];if(_3f5===Number){return null;}else{return [_3f5];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _3f6={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _3f7=dojo.xhrGet(_3f6);_3f7.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_3f7.addErrback(function(_3f8){throw _3f8;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit._editor.plugins.FontChoice"]){dojo._hasResource["dijit._editor.plugins.FontChoice"]=true;dojo.provide("dijit._editor.plugins.FontChoice");dojo.declare("dijit._editor.plugins._FontDropDown",[dijit._Widget,dijit._Templated],{label:"",widgetsInTemplate:true,plainText:false,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>"+"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>"+"<input dojoType='dijit.form.FilteringSelect' required='false' labelType='html' labelAttr='label' searchAttr='name' "+"tabIndex='-1' id='${selectId}' dojoAttachPoint='select' value=''/>"+"</span>",postMixInProperties:function(){this.inherited(arguments);this.strings=dojo.i18n.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments);},postCreate:function(){var _3f9=dojo.map(this.values,function(_3fa){var name=this.strings[_3fa]||_3fa;return {label:this.getLabel(_3fa,name),name:name,value:_3fa};},this);this.select.store=new dojo.data.ItemFileReadStore({data:{identifier:"value",items:_3f9}});this.select.set("value","",false);this.disabled=this.select.get("disabled");},_setValueAttr:function(_3fb,_3fc){_3fc=_3fc!==false?true:false;this.select.set("value",dojo.indexOf(this.values,_3fb)<0?"":_3fb,_3fc);if(!_3fc){this.select._lastValueReported=null;}},_getValueAttr:function(){return this.select.get("value");},focus:function(){this.select.focus();},_setDisabledAttr:function(_3fd){this.disabled=_3fd;this.select.set("disabled",_3fd);}});dojo.declare("dijit._editor.plugins._FontNameDropDown",dijit._editor.plugins._FontDropDown,{generic:false,command:"fontName",postMixInProperties:function(){if(!this.values){this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"];}this.inherited(arguments);},getLabel:function(_3fe,name){if(this.plainText){return name;}else{return "<div style='font-family: "+_3fe+"'>"+name+"</div>";}},_setValueAttr:function(_3ff,_400){_400=_400!==false?true:false;if(this.generic){var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy"};_3ff=map[_3ff]||_3ff;}this.inherited(arguments,[_3ff,_400]);}});dojo.declare("dijit._editor.plugins._FontSizeDropDown",dijit._editor.plugins._FontDropDown,{command:"fontSize",values:[1,2,3,4,5,6,7],getLabel:function(_401,name){if(this.plainText){return name;}else{return "<font size="+_401+"'>"+name+"</font>";}},_setValueAttr:function(_402,_403){_403=_403!==false?true:false;if(_402.indexOf&&_402.indexOf("px")!=-1){var _404=parseInt(_402,10);_402={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_404]||_402;}this.inherited(arguments,[_402,_403]);}});dojo.declare("dijit._editor.plugins._FormatBlockDropDown",dijit._editor.plugins._FontDropDown,{command:"formatBlock",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){this.inherited(arguments);this.set("value","noFormat",false);},getLabel:function(_405,name){if(this.plainText||_405=="noFormat"){return name;}else{return "<"+_405+">"+name+"</"+_405+">";}},_execCommand:function(_406,_407,_408){if(_408==="noFormat"){var _409;var end;var sel=dijit.range.getSelection(_406.window);if(sel&&sel.rangeCount>0){var _40a=sel.getRangeAt(0);var node,tag;if(_40a){_409=_40a.startContainer;end=_40a.endContainer;while(_409&&_409!==_406.editNode&&_409!==_406.document.body&&_409.nodeType!==1){_409=_409.parentNode;}while(end&&end!==_406.editNode&&end!==_406.document.body&&end.nodeType!==1){end=end.parentNode;}var _40b=dojo.hitch(this,function(node,_40c){if(node.childNodes&&node.childNodes.length){var i;for(i=0;i<node.childNodes.length;i++){var c=node.childNodes[i];if(c.nodeType==1){if(dojo.withGlobal(_406.window,"inSelection",dijit._editor.selection,[c])){var tag=c.tagName?c.tagName.toLowerCase():"";if(dojo.indexOf(this.values,tag)!==-1){_40c.push(c);}_40b(c,_40c);}}}}});var _40d=dojo.hitch(this,function(_40e){if(_40e&&_40e.length){_406.beginEditing();while(_40e.length){this._removeFormat(_406,_40e.pop());}_406.endEditing();}});var _40f=[];if(_409==end){var _410;node=_409;while(node&&node!==_406.editNode&&node!==_406.document.body){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(dojo.indexOf(this.values,tag)!==-1){_410=node;break;}}node=node.parentNode;}_40b(_409,_40f);if(_410){_40f=[_410].concat(_40f);}_40d(_40f);}else{node=_409;while(dojo.withGlobal(_406.window,"inSelection",dijit._editor.selection,[node])){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(dojo.indexOf(this.values,tag)!==-1){_40f.push(node);}_40b(node,_40f);}node=node.nextSibling;}_40d(_40f);}_406.onDisplayChanged();}}}else{_406.execCommand(_407,_408);}},_removeFormat:function(_411,node){if(_411.customUndo){while(node.firstChild){dojo.place(node.firstChild,node,"before");}node.parentNode.removeChild(node);}else{dojo.withGlobal(_411.window,"selectElementChildren",dijit._editor.selection,[node]);var html=dojo.withGlobal(_411.window,"getSelectedHtml",dijit._editor.selection,[null]);dojo.withGlobal(_411.window,"selectElement",dijit._editor.selection,[node]);_411.execCommand("inserthtml",html||"");}}});dojo.declare("dijit._editor.plugins.FontChoice",dijit._editor._Plugin,{useDefaultCommand:false,_initButton:function(){var _412={fontName:dijit._editor.plugins._FontNameDropDown,fontSize:dijit._editor.plugins._FontSizeDropDown,formatBlock:dijit._editor.plugins._FormatBlockDropDown}[this.command],_413=this.params;if(this.params.custom){_413.values=this.params.custom;}var _414=this.editor;this.button=new _412(dojo.delegate({dir:_414.dir,lang:_414.lang},_413));this.connect(this.button.select,"onChange",function(_415){this.editor.focus();if(this.command=="fontName"&&_415.indexOf(" ")!=-1){_415="'"+_415+"'";}if(this.button._execCommand){this.button._execCommand(this.editor,this.command,_415);}else{this.editor.execCommand(this.command,_415);}});},updateState:function(){var _416=this.editor;var _417=this.command;if(!_416||!_416.isLoaded||!_417.length){return;}if(this.button){var _418=this.get("disabled");this.button.set("disabled",_418);if(_418){return;}var _419;try{_419=_416.queryCommandValue(_417)||"";}catch(e){_419="";}var _41a=dojo.isString(_419)&&_419.match(/'([^']*)'/);if(_41a){_419=_41a[1];}if(_417==="formatBlock"){if(!_419||_419=="p"){_419=null;var elem;var sel=dijit.range.getSelection(this.editor.window);if(sel&&sel.rangeCount>0){var _41b=sel.getRangeAt(0);if(_41b){elem=_41b.endContainer;}}while(elem&&elem!==_416.editNode&&elem!==_416.document){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg&&dojo.indexOf(this.button.values,tg)>-1){_419=tg;break;}elem=elem.parentNode;}if(!_419){_419="noFormat";}}else{if(dojo.indexOf(this.button.values,_419)<0){_419="noFormat";}}}if(_419!==this.button.get("value")){this.button.set("value",_419,false);}}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "fontName":case "fontSize":case "formatBlock":o.plugin=new dijit._editor.plugins.FontChoice({command:o.args.name,plainText:o.args.plainText?o.args.plainText:false});}});}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");dojo.getObject("colors",true,dojo);(function(){var _41c=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_41d,obj){var m=_41d.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_41c(m1,m2,H+1/3)*256,_41c(m1,m2,H)*256,_41c(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _41e=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_41e(t.r,0,255));t.g=Math.round(_41e(t.g,0,255));t.b=Math.round(_41e(t.b,0,255));t.a=_41e(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.mixin(dojo.Color.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});}if(!dojo._hasResource["dijit._PaletteMixin"]){dojo._hasResource["dijit._PaletteMixin"]=true;dojo.provide("dijit._PaletteMixin");dojo.declare("dijit._PaletteMixin",[dijit._CssStateMixin],{defaultTimeout:500,timeoutChangeRate:0.9,value:null,_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:"",_preparePalette:function(_41f,_420,_421){this._cells=[];var url=this._blankGif;_421=_421||dojo.getObject(this.dyeClass);for(var row=0;row<_41f.length;row++){var _422=dojo.create("tr",{tabIndex:"-1"},this.gridNode);for(var col=0;col<_41f[row].length;col++){var _423=_41f[row][col];if(_423){var _424=new _421(_423,row,col);var _425=dojo.create("td",{"class":this.cellClass,tabIndex:"-1",title:_420[_423]});_424.fillCell(_425,url);this.connect(_425,"ondijitclick","_onCellClick");this._trackMouseState(_425,this.cellClass);dojo.place(_425,_422);_425.index=this._cells.length;this._cells.push({node:_425,dye:_424});}}}this._xDim=_41f[0].length;this._yDim=_41f.length;var _426={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1};for(var key in _426){this._connects.push(dijit.typematic.addKeyListener(this.domNode,{charOrCode:dojo.keys[key],ctrlKey:false,altKey:false,shiftKey:false},this,function(){var _427=_426[key];return function(_428){this._navigateByKey(_427,_428);};}(),this.timeoutChangeRate,this.defaultTimeout));}},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node);},focus:function(){dijit.focus(this._currentFocus);},_onCellClick:function(evt){var _429=evt.currentTarget,_42a=this._getDye(_429).getValue();this._setCurrent(_429);setTimeout(dojo.hitch(this,function(){dijit.focus(_429);this._setValueAttr(_42a,true);}));dojo.removeClass(_429,"dijitPaletteCellHover");dojo.stopEvent(evt);},_setCurrent:function(node){if("_currentFocus" in this){dojo.attr(this._currentFocus,"tabIndex","-1");}this._currentFocus=node;if(node){dojo.attr(node,"tabIndex",this.tabIndex);}},_setValueAttr:function(_42b,_42c){if(this._selectedCell>=0){dojo.removeClass(this._cells[this._selectedCell].node,"dijitPaletteCellSelected");}this._selectedCell=-1;if(_42b){for(var i=0;i<this._cells.length;i++){if(_42b==this._cells[i].dye.getValue()){this._selectedCell=i;dojo.addClass(this._cells[i].node,"dijitPaletteCellSelected");break;}}}this._set("value",this._selectedCell>=0?_42b:null);if(_42c||_42c===undefined){this.onChange(_42b);}},onChange:function(_42d){},_navigateByKey:function(_42e,_42f){if(_42f==-1){return;}var _430=this._currentFocus.index+_42e;if(_430<this._cells.length&&_430>-1){var _431=this._cells[_430].node;this._setCurrent(_431);setTimeout(dojo.hitch(dijit,"focus",_431),0);}},_getDye:function(cell){return this._cells[cell.index].dye;}});}if(!dojo._hasResource["dijit.ColorPalette"]){dojo._hasResource["dijit.ColorPalette"]=true;dojo.provide("dijit.ColorPalette");dojo.declare("dijit.ColorPalette",[dijit._Widget,dijit._Templated,dijit._PaletteMixin],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:dojo.cache("dijit","templates/ColorPalette.html","<div class=\"dijitInline dijitColorPalette\">\n\t<table class=\"dijitPaletteTable\" cellSpacing=\"0\" cellPadding=\"0\">\n\t\t<tbody dojoAttachPoint=\"gridNode\"></tbody>\n\t</table>\n</div>\n"),baseClass:"dijitColorPalette",buildRendering:function(){this.inherited(arguments);this._preparePalette(this._palettes[this.palette],dojo.i18n.getLocalization("dojo","colors",this.lang),dojo.declare(dijit._Color,{hc:dojo.hasClass(dojo.body(),"dijit_a11y"),palette:this.palette}));}});dojo.declare("dijit._Color",dojo.Color,{template:"<span class='dijitInline dijitPaletteImg'>"+"<img src='${blankGif}' alt='${alt}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/>"+"</span>",hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'>"+"<img src='${image}' alt='${alt}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/>"+"</span>",_imagePaths:{"7x10":dojo.moduleUrl("dijit.themes","a11y/colors7x10.png"),"3x4":dojo.moduleUrl("dijit.themes","a11y/colors3x4.png")},constructor:function(_432,row,col){this._alias=_432;this._row=row;this._col=col;this.setColor(dojo.Color.named[_432]);},getValue:function(){return this.toHex();},fillCell:function(cell,_433){var html=dojo.string.substitute(this.hc?this.hcTemplate:this.template,{color:this.toHex(),blankGif:_433,alt:this._alias,image:this._imagePaths[this.palette].toString(),left:this._col*-20-5,top:this._row*-20-5,size:this.palette=="7x10"?"height: 145px; width: 206px":"height: 64px; width: 86px"});dojo.place(html,cell);}});}if(!dojo._hasResource["dijit._editor.plugins.TextColor"]){dojo._hasResource["dijit._editor.plugins.TextColor"]=true;dojo.provide("dijit._editor.plugins.TextColor");dojo.declare("dijit._editor.plugins.TextColor",dijit._editor._Plugin,{buttonClass:dijit.form.DropDownButton,useDefaultCommand:false,constructor:function(){this.dropDown=new dijit.ColorPalette();this.connect(this.dropDown,"onChange",function(_434){this.editor.execCommand(this.command,_434);});},updateState:function(){var _435=this.editor;var _436=this.command;if(!_435||!_435.isLoaded||!_436.length){return;}if(this.button){var _437=this.get("disabled");this.button.set("disabled",_437);if(_437){return;}var _438;try{_438=_435.queryCommandValue(_436)||"";}catch(e){_438="";}}if(_438==""){_438="#000000";}if(_438=="transparent"){_438="#ffffff";}if(typeof _438=="string"){if(_438.indexOf("rgb")>-1){_438=dojo.colorFromRgb(_438).toHex();}}else{_438=((_438&255)<<16)|(_438&65280)|((_438&16711680)>>>16);_438=_438.toString(16);_438="#000000".slice(0,7-_438.length)+_438;}if(_438!==this.dropDown.get("value")){this.dropDown.set("value",_438,false);}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "foreColor":case "hiliteColor":o.plugin=new dijit._editor.plugins.TextColor({command:o.args.name});}});}if(!dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]){dojo._hasResource["dijit.layout._ContentPaneResizeMixin"]=true;dojo.provide("dijit.layout._ContentPaneResizeMixin");dojo.declare("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isContainer:true,isLayoutContainer:true,_startChildren:function(){dojo.forEach(this.getChildren(),function(_439){_439.startup();_439._started=true;});},startup:function(){if(this._started){return;}var _43a=dijit._Contained.prototype.getParent.call(this);this._childOfLayoutWidget=_43a&&_43a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._startChildren();if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize();});}},_checkIfSingleChild:function(){var _43b=dojo.query("> *",this.containerNode).filter(function(node){return node.tagName!=="SCRIPT";}),_43c=_43b.filter(function(node){return dojo.hasAttr(node,"data-dojo-type")||dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_43d=dojo.filter(_43c.map(dijit.byNode),function(_43e){return _43e&&_43e.domNode&&_43e.resize;});if(_43b.length==_43c.length&&_43d.length==1){this._singleChild=_43d[0];}else{delete this._singleChild;}dojo.toggleClass(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_43f,_440){if(!this._wasShown&&this.open!==false){this._onShow();}this._resizeCalled=true;this._scheduleLayout(_43f,_440);},_scheduleLayout:function(_441,_442){if(this._isShown()){this._layout(_441,_442);}else{this._needLayout=true;this._changeSize=_441;this._resultSize=_442;}},_layout:function(_443,_444){if(_443){dojo.marginBox(this.domNode,_443);}var cn=this.containerNode;if(cn===this.domNode){var mb=_444||{};dojo.mixin(mb,_443||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(cn),mb);}this._contentBox=dijit.layout.marginBox2contentBox(cn,mb);}else{this._contentBox=dojo.contentBox(cn);}this._layoutChildren();delete this._needLayout;},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{dojo.forEach(this.getChildren(),function(_445){if(_445.resize){_445.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_446=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden")&&_446&&_446.style&&(_446.style.display!="none");}}},_onShow:function(){if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);this._wasShown=true;}});}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",[dijit._Widget,dijit.layout._ContentPaneResizeMixin],{href:"",extractContent:false,parseOnLoad:true,parserScope:dojo._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[]}),stopParser:true,template:false,create:function(_447,_448){if((!_447||!_447.template)&&_448&&!("href" in _447)&&!("content" in _447)){var df=dojo.doc.createDocumentFragment();_448=dojo.byId(_448);while(_448.firstChild){df.appendChild(_448.firstChild);}_447=dojo.delegate(_447,{content:df});}this.inherited(arguments,[_447,_448]);},postMixInProperties:function(){this.inherited(arguments);var _449=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_449);this.errorMessage=dojo.string.substitute(this.errorMessage,_449);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group");}},_startChildren:function(){this.inherited(arguments);if(this._contentSetter){dojo.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&dojo.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},uninitialize:function(){if(this._beingDestroyed){this.cancel();}this.inherited(arguments);},destroyRecursive:function(_44a){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.onLoadDeferred.addCallback(dojo.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _44b={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_44b,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_44b));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.callback(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler();}var _44c=this._contentSetter;dojo.forEach(this.getChildren(),function(_44d){if(_44d.destroyRecursive){_44d.destroyRecursive();}});if(_44c){dojo.forEach(_44c.parseResults,function(_44e){if(_44e.destroyRecursive&&_44e.domNode&&_44e.domNode.parentNode==dojo.body()){_44e.destroyRecursive();}});delete _44c.parseResults;}dojo.html._emptyNode(this.containerNode);delete this._singleChild;},_setContent:function(cont,_44f){this.destroyDescendants();var _450=this._contentSetter;if(!(_450&&_450 instanceof dojo.html._ContentSetter)){_450=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _451=this.onContentError(e);try{this.containerNode.innerHTML=_451;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _452=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang},this._contentSetterParams||{});_450.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont,_452);delete this._contentSetterParams;if(this.doLayout){this._checkIfSingleChild();}if(!_44f){if(this._started){this._startChildren();this._scheduleLayout();}this._onLoadHandler(cont);}},_onError:function(type,err,_453){this.onLoadDeferred.errback(err);var _454=this["on"+type+"Error"].call(this,err);if(_453){console.error(_453,err);}else{if(_454){this._setContent(_454,true);}}},onLoad:function(data){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_455){},onDownloadError:function(_456){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{state:"",reset:function(){dojo.forEach(this.getDescendants(),function(_457){if(_457.reset){_457.reset();}});},validate:function(){var _458=false;return dojo.every(dojo.map(this.getDescendants(),function(_459){_459._hasBeenBlurred=true;var _45a=_459.disabled||!_459.validate||_459.validate();if(!_45a&&!_458){dojo.window.scrollIntoView(_459.containerNode||_459.domNode);_459.focus();_458=true;}return _45a;}),function(item){return item;});},setValues:function(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_45b){if(!_45b.name){return;}var _45c=map[_45b.name]||(map[_45b.name]=[]);_45c.push(_45b);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _45d=map[name],_45e=dojo.getObject(name,false,obj);if(_45e===undefined){continue;}if(!dojo.isArray(_45e)){_45e=[_45e];}if(typeof _45d[0].checked=="boolean"){dojo.forEach(_45d,function(w,i){w.set("value",dojo.indexOf(_45e,w.value)!=-1);});}else{if(_45d[0].multiple){_45d[0].set("value",_45e);}else{dojo.forEach(_45d,function(w,i){w.set("value",_45e[i]);});}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};dojo.forEach(this.getDescendants(),function(_45f){var name=_45f.name;if(!name||_45f.disabled){return;}var _460=_45f.get("value");if(typeof _45f.checked=="boolean"){if(/Radio/.test(_45f.declaredClass)){if(_460!==false){dojo.setObject(name,_460,obj);}else{_460=dojo.getObject(name,false,obj);if(_460===undefined){dojo.setObject(name,null,obj);}}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_460!==false){ary.push(_460);}}}else{var prev=dojo.getObject(name,false,obj);if(typeof prev!="undefined"){if(dojo.isArray(prev)){prev.push(_460);}else{dojo.setObject(name,[prev,_460],obj);}}else{dojo.setObject(name,_460,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(_461){},_getState:function(){var _462=dojo.map(this._descendants,function(w){return w.get("state")||"";});return dojo.indexOf(_462,"Error")>=0?"Error":dojo.indexOf(_462,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){dojo.forEach(this._childConnections||[],dojo.hitch(this,"disconnect"));dojo.forEach(this._childWatches||[],function(w){w.unwatch();});},connectChildren:function(_463){var _464=this;this.disconnectChildren();this._descendants=this.getDescendants();var set=_463?function(name,val){_464[name]=val;}:dojo.hitch(this,"_set");set("value",this.get("value"));set("state",this._getState());var _465=(this._childConnections=[]),_466=(this._childWatches=[]);dojo.forEach(dojo.filter(this._descendants,function(item){return item.validate;}),function(_467){dojo.forEach(["state","disabled"],function(attr){_466.push(_467.watch(attr,function(attr,_468,_469){_464.set("state",_464._getState());}));});});var _46a=function(){if(_464._onChangeDelayTimer){clearTimeout(_464._onChangeDelayTimer);}_464._onChangeDelayTimer=setTimeout(function(){delete _464._onChangeDelayTimer;_464._set("value",_464.get("value"));},10);};dojo.forEach(dojo.filter(this._descendants,function(item){return item.onChange;}),function(_46b){_465.push(_464.connect(_46b,"onChange",_46a));_466.push(_46b.watch("disabled",_46a));});},startup:function(){this.inherited(arguments);this.connectChildren(true);this.watch("state",function(attr,_46c,_46d){this.onValidStateChange(_46d=="");});},destroy:function(){this.disconnectChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(_46e){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _46f=dijit._getTabNavigable(this.containerNode);this._firstFocusItem=_46f.lowest||_46f.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_46f.last||_46f.highest||this._firstFocusItem;}});}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:dojo.cache("dijit","templates/TooltipDialog.html","<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\"></div>\n</div>\n"),_setTitleAttr:function(_470){this.containerNode.title=_470;this._set("title",_470);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_471,_472){var newC="dijitTooltipAB"+(_472.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_472.charAt(0)=="T"?"Below":"Above");dojo.replaceClass(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _473=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){setTimeout(dojo.hitch(this,"onCancel"),0);dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_473){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_473){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["dijit.form.DropDownButton"]){dojo._hasResource["dijit.form.DropDownButton"]=true;dojo.provide("dijit.form.DropDownButton");}if(!dojo._hasResource["dijit.form._FormSelectWidget"]){dojo._hasResource["dijit.form._FormSelectWidget"]=true;dojo.provide("dijit.form._FormSelectWidget");dojo.declare("dijit.form._FormSelectWidget",dijit.form._FormValueWidget,{multiple:false,options:null,store:null,query:null,queryOptions:null,onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,getOptions:function(_474){var _475=_474,opts=this.options||[],l=opts.length;if(_475===undefined){return opts;}if(dojo.isArray(_475)){return dojo.map(_475,"return this.getOptions(item);",this);}if(dojo.isObject(_474)){if(!dojo.some(this.options,function(o,idx){if(o===_475||(o.value&&o.value===_475.value)){_475=idx;return true;}return false;})){_475=-1;}}if(typeof _475=="string"){for(var i=0;i<l;i++){if(opts[i].value===_475){_475=i;break;}}}if(typeof _475=="number"&&_475>=0&&_475<l){return this.options[_475];}return null;},addOption:function(_476){if(!dojo.isArray(_476)){_476=[_476];}dojo.forEach(_476,function(i){if(i&&dojo.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_477){if(!dojo.isArray(_477)){_477=[_477];}var _478=this.getOptions(_477);dojo.forEach(_478,function(i){if(i){this.options=dojo.filter(this.options,function(node,idx){return (node.value!==i.value||node.label!==i.label);});this._removeOptionItem(i);}},this);this._loadChildren();},updateOption:function(_479){if(!dojo.isArray(_479)){_479=[_479];}dojo.forEach(_479,function(i){var _47a=this.getOptions(i),k;if(_47a){for(k in i){_47a[k]=i[k];}}},this);this._loadChildren();},setStore:function(_47b,_47c,_47d){var _47e=this.store;_47d=_47d||{};if(_47e!==_47b){dojo.forEach(this._notifyConnections||[],dojo.disconnect);delete this._notifyConnections;if(_47b&&_47b.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[dojo.connect(_47b,"onNew",this,"_onNewItem"),dojo.connect(_47b,"onDelete",this,"_onDeleteItem"),dojo.connect(_47b,"onSet",this,"_onSetItem")];}this._set("store",_47b);}this._onChangeActive=false;if(this.options&&this.options.length){this.removeOption(this.options);}if(_47b){this._loadingStore=true;_47b.fetch(dojo.delegate(_47d,{onComplete:function(_47f,opts){if(this.sortByLabel&&!_47d.sort&&_47f.length){_47f.sort(dojo.data.util.sorter.createSortFunction([{attribute:_47b.getLabelAttributes(_47f[0])[0]}],_47b));}if(_47d.onFetch){_47f=_47d.onFetch.call(this,_47f,opts);}dojo.forEach(_47f,function(i){this._addOptionForItem(i);},this);this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_47c);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(_47f);}this._fetchedWith=opts;this._lastValueReported=this.multiple?[]:null;this._onChangeActive=true;this.onSetStore();this._handleOnChange(this.value);},scope:this}));}else{delete this._fetchedWith;}return _47e;},_setValueAttr:function(_480,_481){if(this._loadingStore){this._pendingValue=_480;return;}var opts=this.getOptions()||[];if(!dojo.isArray(_480)){_480=[_480];}dojo.forEach(_480,function(i,idx){if(!dojo.isObject(i)){i=i+"";}if(typeof i==="string"){_480[idx]=dojo.filter(opts,function(node){return node.value===i;})[0]||{value:"",label:""};}},this);_480=dojo.filter(_480,function(i){return i&&i.value;});if(!this.multiple&&(!_480[0]||!_480[0].value)&&opts.length){_480[0]=opts[0];}dojo.forEach(opts,function(i){i.selected=dojo.some(_480,function(v){return v.value===i.value;});});var val=dojo.map(_480,function(i){return i.value;}),disp=dojo.map(_480,function(i){return i.label;});this._set("value",this.multiple?val:val[0]);this._setDisplay(this.multiple?disp:disp[0]);this._updateSelection();this._handleOnChange(this.value,_481);},_getDisplayedValueAttr:function(){var val=this.get("value");if(!dojo.isArray(val)){val=[val];}var ret=dojo.map(this.getOptions(val),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_loadChildren:function(){if(this._loadingStore){return;}dojo.forEach(this._getChildren(),function(_482){_482.destroyRecursive();});dojo.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this._set("value",this._getValueFromOpts());var val=this.value;if(!dojo.isArray(val)){val=[val];}if(val&&val[0]){dojo.forEach(this._getChildren(),function(_483){var _484=dojo.some(val,function(v){return _483.option&&(v===_483.option.value);});dojo.toggleClass(_483.domNode,this.baseClass+"SelectedOption",_484);dijit.setWaiState(_483.domNode,"selected",_484);},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=dojo.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return dojo.map(dojo.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_485){if(!_485||!_485.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var _486=this.store;this.removeOption(_486.getIdentity(item));},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var _487=this.store,_488=_487.getLabel(item),_489=(_488?_487.getIdentity(item):null);return {value:_489,label:_488,item:item};},_addOptionForItem:function(item){var _48a=this.store;if(!_48a.isItemLoaded(item)){_48a.loadItem({item:item,onComplete:function(i){this._addOptionForItem(item);},scope:this});return;}var _48b=this._getOptionObjForItem(item);this.addOption(_48b);},constructor:function(_48c){this._oValue=(_48c||{}).value||null;},buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.focusNode,false);},_fillContent:function(){var opts=this.options;if(!opts){opts=this.options=this.srcNodeRef?dojo.query(">",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+dojo._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this_set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");this.connect(this,"startup","_loadChildren");this._setValueAttr(this.value,null);},startup:function(){this.inherited(arguments);var _48d=this.store,_48e={};dojo.forEach(["query","queryOptions","onFetch"],function(i){if(this[i]){_48e[i]=this[i];}delete this[i];},this);if(_48d&&_48d.getFeatures()["dojo.data.api.Identity"]){this.store=null;this.setStore(_48d,this._oValue,_48e);}},destroy:function(){dojo.forEach(this._notifyConnections||[],dojo.disconnect);this.inherited(arguments);},_addOptionItem:function(_48f){},_removeOptionItem:function(_490){},_setDisplay:function(_491){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions(this.get("value"));},_pseudoLoadChildren:function(_492){},onSetStore:function(){}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained,dijit._CssStateMixin],{templateString:dojo.cache("dijit","templates/MenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),baseClass:"dijitMenuItem",label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function(_493){if(_493&&!("label" in this.params)){this.set("label",_493.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _494=this.id+"_text";dojo.attr(this.containerNode,"id",_494);if(this.accelKeyNode){dojo.attr(this.accelKeyNode,"id",this.id+"_accel");_494+=" "+this.id+"_accel";}dijit.setWaiState(this.domNode,"labelledby",_494);dojo.setSelectable(this.domNode,false);},_onHover:function(){this.getParent().onItemHover(this);},_onUnhover:function(){this.getParent().onItemUnhover(this);this._set("hovering",false);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){try{if(dojo.isIE==8){this.containerNode.focus();}dijit.focus(this.focusNode);}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_495){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_495);},setLabel:function(_496){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_496);},setDisabled:function(_497){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_497);},_setDisabledAttr:function(_498){dijit.setWaiState(this.focusNode,"disabled",_498?"true":"false");this._set("disabled",_498);},_setAccelKeyAttr:function(_499){this.accelKeyNode.style.display=_499?"":"none";this.accelKeyNode.innerHTML=_499;dojo.attr(this.containerNode,"colSpan",_499?"1":"2");this._set("accelKey",_499);}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _49a=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_49a[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:dojo.cache("dijit","templates/CheckedMenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&nbsp;</td>\n</tr>\n"),checked:false,_setCheckedAttr:function(_49b){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_49b);dijit.setWaiState(this.domNode,"checked",_49b);this._set("checked",_49b);},onChange:function(_49c){},_onClick:function(e){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:dojo.cache("dijit","templates/MenuSeparator.html","<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n"),buildRendering:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_49d){_49d.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_49e){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _49f=this._getTopMenu();if(_49f&&_49f._isMenuBar){_49f.focusNext();}}},_onPopupHover:function(evt){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _4a0=this.currentPopup.parentMenu;if(_4a0.focusedChild){_4a0.focusedChild._setSelected(false);}_4a0.focusedChild=this.currentPopup.from_item;_4a0.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _4a1=item.popup;if(_4a1){this._stopPendingCloseTimer(_4a1);_4a1._pendingClose_timer=setTimeout(function(){_4a1._pendingClose_timer=null;if(_4a1.parentMenu){_4a1.parentMenu.currentPopup=null;}dijit.popup.close(_4a1);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_stopPendingCloseTimer:function(_4a2){if(_4a2._pendingClose_timer){clearTimeout(_4a2._pendingClose_timer);_4a2._pendingClose_timer=null;}},_stopFocusTimer:function(){if(this._focus_timer){clearTimeout(this._focus_timer);this._focus_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup();}else{this.onExecute();item.onClick(evt);}},_openPopup:function(){this._stopPopupTimer();var _4a3=this.focusedChild;if(!_4a3){return;}var _4a4=_4a3.popup;if(_4a4.isShowingNow){return;}if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);dijit.popup.close(this.currentPopup);}_4a4.parentMenu=this;_4a4.from_item=_4a3;var self=this;dijit.popup.open({parent:this,popup:_4a4,around:_4a3.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR","BR":"BL","BL":"BR"}:{"TL":"TR","TR":"TL","BL":"BR","BR":"BL"}),onCancel:function(){self.focusChild(_4a3);self._cleanUp();_4a3._setSelected(true);self.focusedChild=_4a3;},onExecute:dojo.hitch(this,"_cleanUp")});this.currentPopup=_4a4;_4a4.connect(_4a4.domNode,"onmouseenter",dojo.hitch(self,"_onPopupHover"));if(_4a4.focus){_4a4._focus_timer=setTimeout(dojo.hitch(_4a4,function(){this._focus_timer=null;this.focus();}),0);}},_markActive:function(){this.isActive=true;dojo.replaceClass(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(e){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;dojo.replaceClass(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();var _4a5=this.focusedChild&&this.focusedChild.from_item;if(this.currentPopup){if(dijit._curFocus&&dojo.isDescendant(dijit._curFocus,this.currentPopup.domNode)){this.focusedChild.focusNode.focus();}dijit.popup.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.focusedChild._onUnhover();this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this._hoveredChild._onUnhover();}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function(){this._bindings=[];},templateString:dojo.cache("dijit","templates/Menu.html","<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\n</table>\n"),baseClass:"dijitMenu",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function(_4a6){var win=dojo.window.get(this._iframeContentDocument(_4a6))||this._iframeContentDocument(_4a6)["__parent__"]||(_4a6.name&&dojo.doc.frames[_4a6.name])||null;return win;},_iframeContentDocument:function(_4a7){var doc=_4a7.contentDocument||(_4a7.contentWindow&&_4a7.contentWindow.document)||(_4a7.name&&dojo.doc.frames[_4a7.name]&&dojo.doc.frames[_4a7.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var cn;if(node.tagName.toLowerCase()=="iframe"){var _4a8=node,win=this._iframeContentWindow(_4a8);cn=dojo.withGlobal(win,dojo.body);}else{cn=(node==dojo.body()?dojo.doc.documentElement:node);}var _4a9={node:node,iframe:_4a8};dojo.attr(node,"_dijitMenu"+this.id,this._bindings.push(_4a9));var _4aa=dojo.hitch(this,function(cn){return [dojo.connect(cn,this.leftClickToOpen?"onclick":"oncontextmenu",this,function(evt){dojo.stopEvent(evt);this._scheduleOpen(evt.target,_4a8,{x:evt.pageX,y:evt.pageY});}),dojo.connect(cn,"onkeydown",this,function(evt){if(evt.shiftKey&&evt.keyCode==dojo.keys.F10){dojo.stopEvent(evt);this._scheduleOpen(evt.target,_4a8);}})];});_4a9.connects=cn?_4aa(cn):[];if(_4a8){_4a9.onloadHandler=dojo.hitch(this,function(){var win=this._iframeContentWindow(_4a8);cn=dojo.withGlobal(win,dojo.body);_4a9.connects=_4aa(cn);});if(_4a8.addEventListener){_4a8.addEventListener("load",_4a9.onloadHandler,false);}else{_4a8.attachEvent("onload",_4a9.onloadHandler);}}},unBindDomNode:function(_4ab){var node;try{node=dojo.byId(_4ab);}catch(e){return;}var _4ac="_dijitMenu"+this.id;if(node&&dojo.hasAttr(node,_4ac)){var bid=dojo.attr(node,_4ac)-1,b=this._bindings[bid];dojo.forEach(b.connects,dojo.disconnect);var _4ad=b.iframe;if(_4ad){if(_4ad.removeEventListener){_4ad.removeEventListener("load",b.onloadHandler,false);}else{_4ad.detachEvent("onload",b.onloadHandler);}}dojo.removeAttr(node,_4ac);delete this._bindings[bid];}},_scheduleOpen:function(_4ae,_4af,_4b0){if(!this._openTimer){this._openTimer=setTimeout(dojo.hitch(this,function(){delete this._openTimer;this._openMyself({target:_4ae,iframe:_4af,coords:_4b0});}),1);}},_openMyself:function(args){var _4b1=args.target,_4b2=args.iframe,_4b3=args.coords;if(_4b3){if(_4b2){var od=_4b1.ownerDocument,ifc=dojo.position(_4b2,true),win=this._iframeContentWindow(_4b2),_4b4=dojo.withGlobal(win,"_docScroll",dojo);var cs=dojo.getComputedStyle(_4b2),tp=dojo._toPixelValue,left=(dojo.isIE&&dojo.isQuirks?0:tp(_4b2,cs.paddingLeft))+(dojo.isIE&&dojo.isQuirks?tp(_4b2,cs.borderLeftWidth):0),top=(dojo.isIE&&dojo.isQuirks?0:tp(_4b2,cs.paddingTop))+(dojo.isIE&&dojo.isQuirks?tp(_4b2,cs.borderTopWidth):0);_4b3.x+=ifc.x+left-_4b4.x;_4b3.y+=ifc.y+top-_4b4.y;}}else{_4b3=dojo.position(_4b1,true);_4b3.x+=10;_4b3.y+=10;}var self=this;var _4b5=dijit.getFocus(this);function _4b6(){if(self.refocus){dijit.focus(_4b5);}dijit.popup.close(self);};dijit.popup.open({popup:this,x:_4b3.x,y:_4b3.y,onExecute:_4b6,onCancel:_4b6,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function(){dojo.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.Select"]){dojo._hasResource["dijit.form.Select"]=true;dojo.provide("dijit.form.Select");dojo.declare("dijit.form._SelectMenu",dijit.Menu,{buildRendering:function(){this.inherited(arguments);var o=(this.menuTableNode=this.domNode);var n=(this.domNode=dojo.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}}));if(o.parentNode){o.parentNode.replaceChild(n,o);}dojo.removeClass(o,"dijitMenuTable");n.className=o.className+" dijitSelectMenu";o.className="dijitReset dijitMenuTable";dijit.setWaiRole(o,"listbox");dijit.setWaiRole(n,"presentation");n.appendChild(o);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",dojo.stopEvent);},resize:function(mb){if(mb){dojo.marginBox(this.domNode,mb);if("w" in mb){this.menuTableNode.style.width="100%";}}}});dojo.declare("dijit.form.Select",[dijit.form._FormSelectWidget,dijit._HasDropDown],{baseClass:"dijitSelect",templateString:dojo.cache("dijit.form","templates/Select.html","<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdojoAttachPoint=\"_buttonNode,tableNode,focusNode\" cellspacing='0' cellpadding='0'\n\trole=\"combobox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" role=\"presentation\"\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  dojoAttachPoint=\"containerNode,_popupStateNode\"></span\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} dojoAttachPoint=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\t\tdojoAttachPoint=\"titleNode\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form._FormSelectWidget.prototype.attributeMap),{style:"tableNode"}),required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&nbsp;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this.value=this.options[si>=0?si:0].value;}this.dropDown=new dijit.form._SelectMenu({id:this.id+"_menu"});dojo.addClass(this.dropDown.domNode,this.baseClass+"Menu");},_getMenuItemForOption:function(_4b7){if(!_4b7.value&&!_4b7.label){return new dijit.MenuSeparator();}else{var _4b8=dojo.hitch(this,"_setValueAttr",_4b7);var item=new dijit.MenuItem({option:_4b7,label:_4b7.label||this.emptyLabel,onClick:_4b8,disabled:_4b7.disabled||false});dijit.setWaiRole(item.focusNode,"listitem");return item;}},_addOptionItem:function(_4b9){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_4b9));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},_loadChildren:function(_4ba){if(_4ba===true){if(this.dropDown){delete this.dropDown.focusedChild;}if(this.options.length){this.inherited(arguments);}else{dojo.forEach(this._getChildren(),function(_4bb){_4bb.destroyRecursive();});var item=new dijit.MenuItem({label:"&nbsp;"});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value);}},_setValueAttr:function(_4bc){this.inherited(arguments);dojo.attr(this.valueNode,"value",this.get("value"));},_setDisplay:function(_4bd){var lbl=_4bd||this.emptyLabel;this.containerNode.innerHTML="<span class=\"dijitReset dijitInline "+this.baseClass+"Label\">"+lbl+"</span>";dijit.setWaiState(this.focusNode,"valuetext",lbl);},validate:function(_4be){var _4bf=this.isValid(_4be);this._set("state",_4bf?"":"Error");dijit.setWaiState(this.focusNode,"invalid",_4bf?"false":"true");var _4c0=_4bf?"":this._missingMsg;if(this.message!==_4c0){this._set("message",_4c0);dijit.hideTooltip(this.domNode);if(_4c0){dijit.showTooltip(_4c0,this.domNode,this.tooltipPosition,!this.isLeftToRight());}}return _4bf;},isValid:function(_4c1){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);dijit.hideTooltip(this.domNode);this._set("state","");this._set("message","");},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=dojo.i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",dojo.stopEvent);},_setStyleAttr:function(_4c2){this.inherited(arguments);dojo.toggleClass(this.domNode,this.baseClass+"FixedWidth",!!this.tableNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_4c3){this._loadChildren(true);this._isLoaded=true;_4c3();},closeDropDown:function(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode){this.dropDown.menuTableNode.style.width="";}},uninitialize:function(_4c4){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_4c4);delete this.dropDown;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit._editor.plugins.LinkDialog"]){dojo._hasResource["dijit._editor.plugins.LinkDialog"]=true;dojo.provide("dijit._editor.plugins.LinkDialog");dojo.declare("dijit._editor.plugins.LinkDialog",dijit._editor._Plugin,{buttonClass:dijit.form.DropDownButton,useDefaultCommand:false,urlRegExp:"((https?|ftps?|file)\\://|./|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",emailRegExp:"<?(mailto\\:)([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+"+"@"+"((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?",htmlTemplate:"<a href=\"${urlInput}\" _djrealurl=\"${urlInput}\""+" target=\"${targetSelect}\""+">${textInput}</a>",tag:"a",_hostRxp:new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_userAtRxp:new RegExp("^([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+@","i"),linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' "+"id='${id}_urlInput' name='urlInput' intermediateChanges='true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' intermediateChanges='true'/>","</td></tr><tr><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' dojoType='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button dojoType='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button dojoType='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_initButton:function(){var _4c5=this;this.tag=this.command=="insertImage"?"img":"a";var _4c6=dojo.mixin(dojo.i18n.getLocalization("dijit","common",this.lang),dojo.i18n.getLocalization("dijit._editor","LinkDialog",this.lang));var _4c7=(this.dropDown=new dijit.TooltipDialog({title:_4c6[this.command+"Title"],execute:dojo.hitch(this,"setValue"),onOpen:function(){_4c5._onOpenDialog();dijit.TooltipDialog.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(dojo.hitch(_4c5,"_onCloseDialog"),0);}}));_4c6.urlRegExp=this.urlRegExp;_4c6.id=dijit.getUniqueId(this.editor.id);this._uniqueId=_4c6.id;this._setContent(_4c7.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+dojo.string.substitute(this.linkDialogTemplate,_4c6));_4c7.startup();this._urlInput=dijit.byId(this._uniqueId+"_urlInput");this._textInput=dijit.byId(this._uniqueId+"_textInput");this._setButton=dijit.byId(this._uniqueId+"_setButton");this.connect(dijit.byId(this._uniqueId+"_cancelButton"),"onClick",function(){this.dropDown.onCancel();});if(this._urlInput){this.connect(this._urlInput,"onChange","_checkAndFixInput");}if(this._textInput){this.connect(this._textInput,"onChange","_checkAndFixInput");}this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=dojo.hitch(this,function(){var _4c8=this._urlInput.get("value");return this._urlRegExp.test(_4c8)||this._emailRegExp.test(_4c8);});this._connectTagEvents();this.inherited(arguments);},_checkAndFixInput:function(){var self=this;var url=this._urlInput.get("value");var _4c9=function(url){var _4ca=false;var _4cb=false;if(url&&url.length>1){url=dojo.trim(url);if(url.indexOf("mailto:")!==0){if(url.indexOf("/")>0){if(url.indexOf("://")===-1){if(url.charAt(0)!=="/"&&url.indexOf("./")!==0){if(self._hostRxp.test(url)){_4ca=true;}}}}else{if(self._userAtRxp.test(url)){_4cb=true;}}}}if(_4ca){self._urlInput.set("value","http://"+url);}if(_4cb){self._urlInput.set("value","mailto:"+url);}self._setButton.set("disabled",!self._isValid());};if(this._delayedCheck){clearTimeout(this._delayedCheck);this._delayedCheck=null;}this._delayedCheck=setTimeout(function(){_4c9(url);},250);},_connectTagEvents:function(){this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"ondblclick",this._onDblClick);}));},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid();},_setContent:function(_4cc){this.dropDown.set({parserScope:"dojo",content:_4cc});},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}return args;},setValue:function(args){this._onCloseDialog();if(dojo.isIE<9){var sel=dijit.range.getSelection(this.editor.window);var _4cd=sel.getRangeAt(0);var a=_4cd.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=dojo.withGlobal(this.editor.window,"getSelectedElement",dijit._editor.selection,[this.tag]);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()===this.tag)){if(this.editor.queryCommandEnabled("unlink")){dojo.withGlobal(this.editor.window,"selectElementChildren",dijit._editor.selection,[a]);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",dojo.string.substitute(this.htmlTemplate,args));},_onCloseDialog:function(){this.editor.focus();},_getCurrentValues:function(a){var url,text,_4ce;if(a&&a.tagName.toLowerCase()===this.tag){url=a.getAttribute("_djrealurl")||a.getAttribute("href");_4ce=a.getAttribute("target")||"_self";text=a.textContent||a.innerText;dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[a,true]);}else{text=dojo.withGlobal(this.editor.window,dijit._editor.selection.getSelectedText);}return {urlInput:url||"",textInput:text||"",targetSelect:_4ce||""};},_onOpenDialog:function(){var a;if(dojo.isIE<9){var sel=dijit.range.getSelection(this.editor.window);var _4cf=sel.getRangeAt(0);a=_4cf.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=dojo.withGlobal(this.editor.window,"getSelectedElement",dijit._editor.selection,[this.tag]);}}else{a=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.tag]);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&dojo.attr(t,"href")){dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[t]);this.editor.onDisplayChanged();setTimeout(dojo.hitch(this,function(){this.button.set("disabled",false);this.button.openDropDown();}),10);}}}});dojo.declare("dijit._editor.plugins.ImgLinkDialog",[dijit._editor.plugins.LinkDialog],{linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' "+"required='true' id='${id}_urlInput' name='urlInput' intermediateChanges='true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' "+"name='textInput' intermediateChanges='true'/>","</td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button dojoType='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button dojoType='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),htmlTemplate:"<img src=\"${urlInput}\" _djrealurl=\"${urlInput}\" alt=\"${textInput}\" />",tag:"img",_getCurrentValues:function(img){var url,text;if(img&&img.tagName.toLowerCase()===this.tag){url=img.getAttribute("_djrealurl")||img.getAttribute("src");text=img.getAttribute("alt");dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[img,true]);}else{text=dojo.withGlobal(this.editor.window,dijit._editor.selection.getSelectedText);}return {urlInput:url||"",textInput:text||""};},_isValid:function(){return this._urlInput.isValid();},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"onmousedown",this._selectTag);}));},_selectTag:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag){dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[t]);}}},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}if(args&&args.textInput){args.textInput=args.textInput.replace(/"/g,"&quot;");}return args;},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&dojo.attr(t,"src")){dojo.withGlobal(this.editor.window,"selectElement",dijit._editor.selection,[t]);this.editor.onDisplayChanged();setTimeout(dojo.hitch(this,function(){this.button.set("disabled",false);this.button.openDropDown();}),10);}}}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "createLink":o.plugin=new dijit._editor.plugins.LinkDialog({command:o.args.name});break;case "insertImage":o.plugin=new dijit._editor.plugins.ImgLinkDialog({command:o.args.name});break;}});}if(!dojo._hasResource["dijit._editor.plugins.ViewSource"]){dojo._hasResource["dijit._editor.plugins.ViewSource"]=true;dojo.provide("dijit._editor.plugins.ViewSource");dojo.declare("dijit._editor.plugins.ViewSource",dijit._editor._Plugin,{stripScripts:true,stripComments:true,stripIFrames:true,readOnly:false,_fsPlugin:null,toggle:function(){if(dojo.isWebKit){this._vsFocused=true;}this.button.set("checked",!this.button.get("checked"));},_initButton:function(){var _4d0=dojo.i18n.getLocalization("dijit._editor","commands"),_4d1=this.editor;this.button=new dijit.form.ToggleButton({label:_4d0["viewSource"],dir:_4d1.dir,lang:_4d1.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:dojo.hitch(this,"_showSource")});if(dojo.isIE==7){this._ieFixNode=dojo.create("div",{style:{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}},dojo.body());}this.button.set("readOnly",false);},setEditor:function(_4d2){this.editor=_4d2;this._initButton();this.editor.addKeyHandler(dojo.keys.F12,true,true,dojo.hitch(this,function(e){this.button.focus();this.toggle();dojo.stopEvent(e);setTimeout(dojo.hitch(this,function(){this.editor.focus();}),100);}));},_showSource:function(_4d3){var ed=this.editor;var _4d4=ed._plugins;var html;this._sourceShown=_4d3;var self=this;try{if(!this.sourceArea){this._createSourceView();}if(_4d3){ed._sourceQueryCommandEnabled=ed.queryCommandEnabled;ed.queryCommandEnabled=function(cmd){var lcmd=cmd.toLowerCase();if(lcmd==="viewsource"){return true;}else{return false;}};this.editor.onDisplayChanged();html=ed.get("value");html=this._filter(html);ed.set("value",html);this._pluginList=[];dojo.forEach(_4d4,function(p){if(!(p instanceof dijit._editor.plugins.ViewSource)){p.set("disabled",true);}});if(this._fsPlugin){this._fsPlugin._getAltViewNode=function(){return self.sourceArea;};}this.sourceArea.value=html;var is=dojo._getMarginSize(ed.iframe.parentNode);dojo.marginBox(this.sourceArea,{w:is.w,h:is.h});dojo.style(ed.iframe,"display","none");dojo.style(this.sourceArea,{display:"block"});var _4d5=function(){var vp=dojo.window.getBox();if("_prevW" in this&&"_prevH" in this){if(vp.w===this._prevW&&vp.h===this._prevH){return;}else{this._prevW=vp.w;this._prevH=vp.h;}}else{this._prevW=vp.w;this._prevH=vp.h;}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(dojo.hitch(this,function(){delete this._resizer;this._resize();}),10);};this._resizeHandle=dojo.connect(window,"onresize",this,_4d5);setTimeout(dojo.hitch(this,this._resize),100);this.editor.onNormalizedDisplayChanged();this.editor.__oldGetValue=this.editor.getValue;this.editor.getValue=dojo.hitch(this,function(){var txt=this.sourceArea.value;txt=this._filter(txt);return txt;});}else{if(!ed._sourceQueryCommandEnabled){return;}dojo.disconnect(this._resizeHandle);delete this._resizeHandle;if(this.editor.__oldGetValue){this.editor.getValue=this.editor.__oldGetValue;delete this.editor.__oldGetValue;}ed.queryCommandEnabled=ed._sourceQueryCommandEnabled;if(!this._readOnly){html=this.sourceArea.value;html=this._filter(html);ed.beginEditing();ed.set("value",html);ed.endEditing();}dojo.forEach(_4d4,function(p){p.set("disabled",false);});dojo.style(this.sourceArea,"display","none");dojo.style(ed.iframe,"display","block");delete ed._sourceQueryCommandEnabled;this.editor.onDisplayChanged();}setTimeout(dojo.hitch(this,function(){var _4d6=ed.domNode.parentNode;if(_4d6){var _4d7=dijit.getEnclosingWidget(_4d6);if(_4d7&&_4d7.resize){_4d7.resize();}}ed.resize();}),300);}catch(e){}},updateState:function(){this.button.set("disabled",this.get("disabled"));},_resize:function(){var ed=this.editor;var tbH=ed.getHeaderHeight();var fH=ed.getFooterHeight();var eb=dojo.position(ed.domNode);var _4d8=dojo._getPadBorderExtents(ed.iframe.parentNode);var _4d9=dojo._getMarginExtents(ed.iframe.parentNode);var _4da=dojo._getPadBorderExtents(ed.domNode);var _4db=dojo._getMarginExtents(ed.domNode);var edb={w:eb.w-(_4da.w+_4db.w),h:eb.h-(tbH+_4da.h+_4db.h+fH)};if(this._fsPlugin&&this._fsPlugin.isFullscreen){var vp=dojo.window.getBox();edb.w=(vp.w-_4da.w);edb.h=(vp.h-(tbH+_4da.h+fH));}if(dojo.isIE){edb.h-=2;}if(this._ieFixNode){var _4dc=-this._ieFixNode.offsetTop/1000;edb.w=Math.floor((edb.w+0.9)/_4dc);edb.h=Math.floor((edb.h+0.9)/_4dc);}dojo.marginBox(this.sourceArea,{w:edb.w-(_4d8.w+_4d9.w),h:edb.h-(_4d8.h+_4d9.h)});dojo.marginBox(ed.iframe.parentNode,{h:edb.h});},_createSourceView:function(){var ed=this.editor;var _4dd=ed._plugins;this.sourceArea=dojo.create("textarea");if(this.readOnly){dojo.attr(this.sourceArea,"readOnly",true);this._readOnly=true;}dojo.style(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});dojo.place(this.sourceArea,ed.iframe,"before");if(dojo.isIE&&ed.iframe.parentNode.lastChild!==ed.iframe){dojo.style(ed.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});}ed._viewsource_oldFocus=ed.focus;var self=this;ed.focus=function(){if(self._sourceShown){self.setSourceAreaCaret();}else{try{if(this._vsFocused){delete this._vsFocused;dijit.focus(ed.editNode);}else{ed._viewsource_oldFocus();}}catch(e){}}};var i,p;for(i=0;i<_4dd.length;i++){p=_4dd[i];if(p&&(p.declaredClass==="dijit._editor.plugins.FullScreen"||p.declaredClass===(dijit._scopeName+"._editor.plugins.FullScreen"))){this._fsPlugin=p;break;}}if(this._fsPlugin){this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode;this._fsPlugin._getAltViewNode=function(){return self._sourceShown?self.sourceArea:this._viewsource_getAltViewNode();};}this.connect(this.sourceArea,"onkeydown",dojo.hitch(this,function(e){if(this._sourceShown&&e.keyCode==dojo.keys.F12&&e.ctrlKey&&e.shiftKey){this.button.focus();this.button.set("checked",false);setTimeout(dojo.hitch(this,function(){ed.focus();}),100);dojo.stopEvent(e);}}));},_stripScripts:function(html){if(html){html=html.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,"");html=html.replace(/<\s*script\b([^<>]|\s)*>?/ig,"");html=html.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,"");}return html;},_stripComments:function(html){if(html){html=html.replace(/<!--(.|\s){1,}?-->/g,"");}return html;},_stripIFrames:function(html){if(html){html=html.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,"");}return html;},_filter:function(html){if(html){if(this.stripScripts){html=this._stripScripts(html);}if(this.stripComments){html=this._stripComments(html);}if(this.stripIFrames){html=this._stripIFrames(html);}}return html;},setSourceAreaCaret:function(){var win=dojo.global;var elem=this.sourceArea;dijit.focus(elem);if(this._sourceShown&&!this.readOnly){if(dojo.isIE){if(this.sourceArea.createTextRange){var _4de=elem.createTextRange();_4de.collapse(true);_4de.moveStart("character",-99999);_4de.moveStart("character",0);_4de.moveEnd("character",0);_4de.select();}}else{if(win.getSelection){if(elem.setSelectionRange){elem.setSelectionRange(0,0);}}}}},destroy:function(){if(this._ieFixNode){dojo.body().removeChild(this._ieFixNode);}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}if(this._resizeHandle){dojo.disconnect(this._resizeHandle);delete this._resizeHandle;}this.inherited(arguments);}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="viewsource"){o.plugin=new dijit._editor.plugins.ViewSource({readOnly:("readOnly" in o.args)?o.args.readOnly:false,stripComments:("stripComments" in o.args)?o.args.stripComments:true,stripScripts:("stripScripts" in o.args)?o.args.stripScripts:true,stripIFrames:("stripIFrames" in o.args)?o.args.stripIFrames:true});}});}dojo.i18n._preloadLocalizations("dojo.nls.editor",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nb","nl","nl-nl","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
