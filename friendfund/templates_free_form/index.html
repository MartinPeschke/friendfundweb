<%inherit file="layout.html"/>

<%def name="page_reloader()">page_reloader = function(){};</%def>
<%def name="onloadscripts()">
	parseDefaultsInputs("poolProductFinder");
	parseSelectables("poolProductFinder", "showToolTipHook", "showToolTip");
	connectURLParser("submissionform", "home_title", true);
</%def>


<div class="wrapSubHeaderHome">
	<div class="subHeader">
		<h2>${_("FF_HOMEPAGE_SLOGAN_friendfund it.")}<span>${_("FF_HOMEPAGE_SLOGAN_Collect money by creating a pool and inviting friends to chip in.")}</span>
			<a href="${url(controller="content", action="learn_more", host=app_globals.default_host)}" class="learnMoreBtn">${_("FF_HOMEPAGE_SLOGAN_Learn more")}</a>
		</h2>
	</div>
</div>
<div class="wrapSubContent">
<div class="contentHome">
	<div class="weNeed">
		<div class="formWeNeed" id="poolProductFinder">
			<h3>${_("FF_HOMEPAGE_FORM_We need")}</h3>
			<form method="POST" id="submissionform" onSubmit="return onSubmitCleaner(this)" action="${url("pool_details", protocol="http")}">
			<div class="exp">
				<span>${h.display_currency(h.default_currency())}</span>
				<span class="showToolTipHook"><input type="text" name="amount" class="short tipeIn weNeed" /></span>
				<span style="margin-left:30px">for</span>
				<span class="showToolTipHook"><input type="text" name="title"_default_text="${_("FF_HOME_PAGE_Examples: a weekend away, my sports club...")}" id="home_title" class="weNeed default long" _url="${url(controller="product", action="open_bounce")}" value="${_("FF_HOME_PAGE_Examples: a weekend away, my sports club...")}">
					<div class="verticalTip hideable">
						<div class="arrow"></div>
						<span>${_("FF_HOMEPAGE_FORM_You can also paste a link from any website here.")}</span>
					</div>
				</span>
				<input type="submit" class="primaryLarge floatRight" value="${_("FF_HOME_PAGE_Get Started")}" />
			</div>
			<div id="homeurlexpander"></div>
			</form>
		</div>
		<div class="logoContainer">
			<div class="logoContainerRight">
				<img src="/static/imgs/veri-sign.png" />
				
				<img src="/static/imgs/mastercard.png" style="margin-left:20px; margin-top:10px ;margin-right:10px" />
				<img src="/static/imgs/visa.png" style="margin-left:20px; margin-top:10px" />
				<img src="/static/imgs/amex.png" style="margin-left:20px; margin-top:10px" />
				<img src="/static/imgs/paypal.png" style="margin-top:10px; margin-left:20px; "  />
			</div>
			<div class="logoContainerLeft">
				<span>${_("FF_HOMEPAGE_BOXES_SEEN IN")}</span>
				<img src="/static/imgs/Deutsche_Startups_sml.png" />
				<img src="/static/imgs/Zanox_sml.png" />
				
				<img src="/static/imgs/IWB_sml.png" />
			
			</div>
			<div class="clear"></div>
		</div>
	</div>
	<div class="featuredPoolsBox">
		<h4>${_("FF_HOMEPAGE_BOXES_Featured Pools")}</h4>
		${self.render_featured_pools(c.get_featured_pools)|n}
		<div class="clear"></div>
	</div>
	<div class="whatElse">
		<h4>${_("FF_HOMEPAGE_BOXES_Where else can I use friendfund?")}</h4>
		<div class="boxGray box1">
			<img src="/static/imgs/amazon_trans.png" />
			<img src="/static/imgs/caseable_trans.png" />
			<img src="/static/imgs/donanda_trans.png" />
			<img src="/static/imgs/fidorbank_trans.png" />
			<img src="/static/imgs/GAD_trans.png" />
			
		</div>
		<div class="boxGray box2">
			<div class="grafx">&#8220;</div>
			<p><strong>Buying a group gift is 
so affordable!</strong> Sharing 
costs with friends meant 
we could get Megan 
something amazing.</p>
			<div style="margin-top:20px">
				<div class="avt">
					<div class="arrowAvatar"></div>
					<img src="/static/imgs/dummy/avatar-pool-big.jpg">
				</div>
				<span class="name bold">Amanda</span>
				<span class="desc">Created a Pool for her Tennis club</span>
			</div>
		</div>
		<div class="boxGray box3 lastOne">
			<div class="grafx">&#8220;</div>
			<p><strong>Buying a group gift is 
so affordable!</strong> Sharing 
costs with friends meant 
we could get Megan 
something amazing.</p>
			<div style="margin-top:20px">
				<div class="avt">
					<div class="arrowAvatar"></div>
					<img src="/static/imgs/dummy/avatar-pool-big.jpg">
				</div>
				<span class="name bold">Amanda</span>
				<span class="desc">Created a Pool for her Tennis club</span>
			</div>
			
		</div>
		<div class="clear"></div>
	</div>

</div>
</div>




<%def name="render_featured_pools(get_featured_pools)" cached="True" cache_key="render_featured_pools" cache_timeout="1800" cache_type="memory">
	%for i, pool in enumerate(get_featured_pools()):
		<% locals = {"no_contributors":pool.get_number_of_contributors(), "days_left":pool.get_remaining_days_tuple()[0], "admin_name":pool.admin.name} %>
		<div class="homebox ${i==3 and 'lastOne' or ''}">
			<img src="${pool.get_product_display_picture("FF_POOLS")}" width="190px" height="150px" />
			<h5 style="min-height:36px;"><a href="${url("get_pool", pool_url = pool.p_url)}">${pool.title}</a></h5>
			<span class="homebox">${_("FF_HOMEPAGE_BOXES_created by %(admin_name)s")%locals}</span>
			<div class="timeCounter">
				<span>${int(pool.funding_progress()*100)}%</span>
				<div class="timeCounterRight" >
					<div class="timeCounterLeft" style="width:${int(pool.funding_progress()*100)}%"> </div>
				</div>
				<div class="clear"></div>
			</div>
			
			<div class="boxContributors">
				<span class="upper">${_("FF_HOMEPAGE_BOXES_<strong>%(no_contributors)s</strong> contributors")%locals|n}</span>
				<span class="middot">&middot;</span>
				<span class="upper">${_("FF_HOMEPAGE_BOXES_<strong>%(days_left)s</strong> days left")%locals|n}</span>
			</div>
			<div class="fbHolder">
				%for pu in pool.get_random_n_invitees(5):
					<img src="${pu.get_profile_pic("PROFILE_S")}" alt="${pu.name}" height="30px" width="30px"/>
				%endfor
				<div class="clear"></div>
			</div>
		</div>
	%endfor
</%def>