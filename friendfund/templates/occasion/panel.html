<%! 
from datetime import date, timedelta
%>
<%namespace name="forms" file="../widgets/forms.html"/>
<%namespace name="html" file="../widgets/html_elems.html"/>


<div id="button_panel" class="occasion">

	<div class="TabsContainer"><a _type="recommended_tab" class="methodselector ajaxlink selected "><span>${_("EVENT_PANEL_Select an Event")}</span></a></div>
	<a class="button_panel_closer">&nbsp;</a>
	${html.clearline()|n}
	<div id="occasion_button_bar">
		%for occ in c.olist:
			<a class="occasion_panel_button">
				<div class="selector ${c.key != occ.key and ' ' or 'selected'}" imgurl="/static/imgs/${occ.picture_url}" 
					custom="${int(occ.custom or 0)}" key="${occ.key}" displayname="${occ.get_display_name()}" date="${occ.internal_date_format}">
					<img src="/static/imgs/${occ.picture_url}"/>
					<div class="label">
					%if occ.custom:
						<input class="black_labeled_input ${(not c.name and default or "")}" _default_text="${_("EVENT_PANEL_Just because...")}" type="text" id="${occ.key}" name="name" value="${c.name or _("EVENT_PANEL_Just because...")}" style="width:106px;"/>
					%else:
						${occ.get_display_name()}
					%endif
					</div>
				</div>
			</a>
		%endfor
		<div id="occasion_date_input_bar">
			<div style="margin-right:50px;"> 
				<a class="submitSmall occasion_submitter"><span>${_("EVENT_PANEL_Submit")}</span></a>
			</div>
			
			<div style="top: 5px; position: relative;float:right;margin-right:50px;">
				<label class="black_label floaterLeft" for="datestamp">${_("EVENT_PANEL_And Pick a Date")}</label>
				<div id="datestamp" jsid="datestamp" type="text" class="black_labeled_input datepicker" name="datestamp" value="${c.date}" dojoType="dijit.form.DateTextBox" constraints="{min:'${c.lower_limit_date}'}"></div>
			</div>
		</div>
	</div>
</div>